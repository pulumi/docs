---
title: Module apigateway
---

<!-- WARNING: this page was generated by a tool. Do not edit it by hand. -->
<!-- To change it, please see https://github.com/pulumi/docs/tree/master/tools/tscdocgen. -->

<a href="../index.html">@pulumi/awsx</a> &gt; apigateway

<div class="toggleVisible" markdown="1">
<div class="collapsed" markdown="1">
<h2 class="pdoc-module-header toggleButton" title="Click to show Index">Index ▹</h2>
</div>
<div class="expanded" markdown="1">
<h2 class="pdoc-module-header toggleButton" title="Click to hide Index">Index ▾</h2>
<div class="pdoc-module-contents" markdown="1">
* <a href="#API">class API</a>
* <a href="#deploymentOnlyModule">const deploymentOnlyModule</a>
* <a href="#APIArgs">interface APIArgs</a>
* <a href="#Endpoint">interface Endpoint</a>
* <a href="#IntegrationRoute">interface IntegrationRoute</a>
* <a href="#IntegrationRouteTargetProvider">interface IntegrationRouteTargetProvider</a>
* <a href="#IntegrationTarget">interface IntegrationTarget</a>
* <a href="#metrics">module metrics</a>
* <a href="#EventHandlerRoute">type EventHandlerRoute</a>
* <a href="#RawDataRoute">type RawDataRoute</a>
* <a href="#Request">type Request</a>
* <a href="#RequestContext">type RequestContext</a>
* <a href="#Response">type Response</a>
* <a href="#Route">type Route</a>
* <a href="#StaticRoute">type StaticRoute</a>

<a href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts">apigateway/api.ts</a> <a href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/index.ts">apigateway/index.ts</a> <a href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts">apigateway/metrics.ts</a> 
</div>
</div>
</div>


<h2 class="pdoc-module-header" id="API">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L326">class <b>API</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>extends</span> <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#ComponentResource'>ComponentResource</a></pre>
<h3 class="pdoc-member-header" id="API-constructor">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L333"> <b>constructor</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span><span class='kd'>new</span> API(name: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>, args: <a href='#APIArgs'>APIArgs</a>, opts: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#ComponentResourceOptions'>pulumi.ComponentResourceOptions</a>)</pre>

</div>
<h3 class="pdoc-member-header" id="API-getFunction">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L401">method <b>getFunction</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'>public </span>getFunction(route: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>, method: Method): <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span> | Function</pre>


Returns the [aws.lambda.Function] an [EventHandlerRoute] points to.  This will either be for
the aws.lambda.Function created on your behalf if the route was passed a normal
JavaScript/Typescript function, or it will be the [aws.lambda.Function] that was explicitly
passed in. Returns [undefined] if this route/method wasn't an [EventHandlerRoute].

</div>
<h3 class="pdoc-member-header" id="API-getProvider">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/node_modules/@pulumi/pulumi/resource.d.ts#L14">method <b>getProvider</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>getProvider(moduleMember: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>): ProviderResource | <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span></pre>

</div>
<h3 class="pdoc-member-header" id="API-isInstance">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/node_modules/@pulumi/pulumi/resource.d.ts#L132">method <b>isInstance</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'>static </span>isInstance(obj: <span class='kd'><a href='https://www.typescriptlang.org/docs/handbook/basic-types.html#any'>any</a></span>): <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean'>boolean</a></span></pre>


Returns true if the given object is an instance of CustomResource.  This is designed to work even when
multiple copies of the Pulumi SDK have been loaded into the same process.

</div>
<h3 class="pdoc-member-header" id="API-registerOutputs">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/node_modules/@pulumi/pulumi/resource.d.ts#L147">method <b>registerOutputs</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'>protected </span>registerOutputs(outputs?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Inputs'>Inputs</a> | <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise'>Promise</a>&lt;<a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Inputs'>Inputs</a>&gt; | <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Output'>Output</a>&lt;<a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Inputs'>Inputs</a>&gt;): <span class='kd'><a href='https://www.typescriptlang.org/docs/handbook/basic-types.html#void'>void</a></span></pre>

</div>
<h3 class="pdoc-member-header" id="API-deployment">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L328">property <b>deployment</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'>public </span>deployment: aws.apigateway.Deployment;</pre>
</div>
<h3 class="pdoc-member-header" id="API-restAPI">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L327">property <b>restAPI</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'>public </span>restAPI: aws.apigateway.RestApi;</pre>
</div>
<h3 class="pdoc-member-header" id="API-stage">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L329">property <b>stage</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'>public </span>stage: aws.apigateway.Stage;</pre>
</div>
<h3 class="pdoc-member-header" id="API-url">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L331">property <b>url</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'>public </span>url: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Output'>pulumi.Output</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>
</div>
<h3 class="pdoc-member-header" id="API-urn">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/node_modules/@pulumi/pulumi/resource.d.ts#L12">property <b>urn</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>urn: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Output'>Output</a>&lt;<a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#URN'>URN</a>&gt;;</pre>

urn is the stable logical URN used to distinctly address a resource, both before and after
deployments.

</div>
</div>
<h2 class="pdoc-module-header" id="deploymentOnlyModule">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/index.ts#L28">const <b>deploymentOnlyModule</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>const</span> deploymentOnlyModule: <span class='kd'>true</span> = <span class='s2'>true</span>;</pre>
</div>
<h2 class="pdoc-module-header" id="APIArgs">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L291">interface <b>APIArgs</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<h3 class="pdoc-member-header" id="APIArgs-apiKeySource">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L323">property <b>apiKeySource</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>apiKeySource?: APIKeySource;</pre>

The source for the apikey. This can either be a HEADER or AUTHORIZER. If [apiKeyRequired] is
set to true on a route, and this is not defined the value will default to HEADER.

</div>
<h3 class="pdoc-member-header" id="APIArgs-requestValidator">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L317">property <b>requestValidator</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>requestValidator?: RequestValidator;</pre>

Request Validator specifies the validator to use at the API level. Note method level validators
override this.

</div>
<h3 class="pdoc-member-header" id="APIArgs-routes">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L297">property <b>routes</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>routes?: <a href='#Route'>Route</a>[];</pre>

Routes to use to initialize the APIGateway.

Either [swaggerString] or [routes] must be specified.

</div>
<h3 class="pdoc-member-header" id="APIArgs-stageName">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L311">property <b>stageName</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>stageName?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>

The stage name for your API. This will get added as a base path to your API url.

</div>
<h3 class="pdoc-member-header" id="APIArgs-swaggerString">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L306">property <b>swaggerString</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>swaggerString?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>

A Swagger specification already in string form to use to initialize the APIGateway.  Note
that you must manually provide permission for any route targets to be invoked by API Gateway
when using [swaggerString].

Either [swaggerString] or [routes] must be specified.

</div>
</div>
<h2 class="pdoc-module-header" id="Endpoint">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L285">interface <b>Endpoint</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<h3 class="pdoc-member-header" id="Endpoint-hostname">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L286">property <b>hostname</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>hostname: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;</pre>
</div>
<h3 class="pdoc-member-header" id="Endpoint-loadBalancer">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L288">property <b>loadBalancer</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>loadBalancer: aws.elasticloadbalancingv2.LoadBalancer;</pre>
</div>
<h3 class="pdoc-member-header" id="Endpoint-port">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L287">property <b>port</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>port: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number'>number</a></span>;</pre>
</div>
</div>
<h2 class="pdoc-module-header" id="IntegrationRoute">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L155">interface <b>IntegrationRoute</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">

An apigateway route for an integration.
https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/ for more details.

<h3 class="pdoc-member-header" id="IntegrationRoute-path">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L156">property <b>path</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>path: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;</pre>
</div>
<h3 class="pdoc-member-header" id="IntegrationRoute-target">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L157">property <b>target</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>target: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<a href='#IntegrationTarget'>IntegrationTarget</a>&gt; | <a href='#IntegrationRouteTargetProvider'>IntegrationRouteTargetProvider</a>;</pre>
</div>
</div>
<h2 class="pdoc-module-header" id="IntegrationRouteTargetProvider">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L254">interface <b>IntegrationRouteTargetProvider</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<h3 class="pdoc-member-header" id="IntegrationRouteTargetProvider-target">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L255">method <b>target</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>target(name: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>, parent: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Resource'>pulumi.Resource</a>): <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<a href='#IntegrationTarget'>IntegrationTarget</a>&gt;</pre>

</div>
</div>
<h2 class="pdoc-module-header" id="IntegrationTarget">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L163">interface <b>IntegrationTarget</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">

See https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/ for more details.

<h3 class="pdoc-member-header" id="IntegrationTarget-connectionId">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L227">property <b>connectionId</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>connectionId?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>

The (id) of the VpcLink used for the integration when connectionType=VPC_LINK and undefined,
otherwise.

</div>
<h3 class="pdoc-member-header" id="IntegrationTarget-connectionType">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L221">property <b>connectionType</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>connectionType?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;IntegrationConnectionType&gt;;</pre>

The type of the network connection to the integration endpoint. The valid value is INTERNET
for connections through the public routable internet or VPC_LINK for private connections
between API Gateway and a network load balancer in a VPC. The default value is INTERNET.

</div>
<h3 class="pdoc-member-header" id="IntegrationTarget-httpMethod">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L191">property <b>httpMethod</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>httpMethod?: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span> | <span class='s2'>"ANY"</span>;</pre>

Specifies the integration's HTTP method type.  Currently, the only supported type is 'ANY'.

</div>
<h3 class="pdoc-member-header" id="IntegrationTarget-passthroughBehavior">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L251">property <b>passthroughBehavior</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>passthroughBehavior?: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;IntegrationPassthroughBehavior&gt;;</pre>

Specifies how the method request body of an unmapped content type will be passed through the
integration request to the back end without transformation.

The valid value is one of the following:

WHEN_NO_MATCH: passes the method request body through the integration request to the back end
without transformation when the method request content type does not match any content type
associated with the mapping templates defined in the integration request.

WHEN_NO_TEMPLATES: passes the method request body through the integration request to the back
end without transformation when no mapping template is defined in the integration request. If
a template is defined when this option is selected, the method request of an unmapped
content-type will be rejected with an HTTP 415 Unsupported Media Type response.

NEVER: rejects the method request with an HTTP 415 Unsupported Media Type response when
either the method request content type does not match any content type associated with the
mapping templates defined in the integration request or no mapping template is defined in the
integration request.

Defaults to 'WHEN_NO_MATCH' if unspecified.

</div>
<h3 class="pdoc-member-header" id="IntegrationTarget-type">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L186">property <b>type</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>type: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;IntegrationType&gt;;</pre>

Specifies an API method integration type. The valid value is one of the following:

aws: for integrating the API method request with an AWS service action, including the Lambda
function-invoking action. With the Lambda function-invoking action, this is referred to as
the Lambda custom integration. With any other AWS service action, this is known as AWS
integration.

aws_proxy: for integrating the API method request with the Lambda function-invoking action
with the client request passed through as-is. This integration is also referred to as the
Lambda proxy integration.

http: for integrating the API method request with an HTTP endpoint, including a private HTTP
endpoint within a VPC. This integration is also referred to as the HTTP custom integration.

http_proxy: for integrating the API method request with an HTTP endpoint, including a private
HTTP endpoint within a VPC, with the client request passed through as-is. This is also
referred to as the HTTP proxy integration.

mock: for integrating the API method request with API Gateway as a "loop-back" endpoint
without invoking any backend.

</div>
<h3 class="pdoc-member-header" id="IntegrationTarget-uri">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L214">property <b>uri</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'></span>uri: <a href='https://pulumi.io/reference/pkg/nodejs/@pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>

Specifies Uniform Resource Identifier (URI) of the integration endpoint.

For HTTP or HTTP_PROXY integrations, the URI must be a fully formed, encoded HTTP(S) URL
according to the RFC-3986 specification, for either standard integration, where
connectionType is not VPC_LINK, or private integration, where connectionType is VPC_LINK. For
a private HTTP integration, the URI is not used for routing.

For AWS or AWS_PROXY integrations, the URI is of the form
arn:aws:apigateway:{region}:{subdomain.service|service}:path|action/{service_api}. Here,
{Region} is the API Gateway region (e.g., us-east-1); {service} is the name of the integrated
AWS service (e.g., s3); and {subdomain} is a designated subdomain supported by certain AWS
service for fast host-name lookup. action can be used for an AWS service action-based API,
using an Action={name}&{p1}={v1}&p2={v2}... query string. The ensuing {service_api} refers to
a supported action {name} plus any required input parameters. Alternatively, path can be used
for an AWS service path-based API. The ensuing service_api refers to the path to an AWS
service resource, including the region of the integrated AWS service, if applicable. For
example, for integration with the S3 API of GetObject, the uri can be either
arn:aws:apigateway:us-west-2:s3:action/GetObject&Bucket={bucket}&Key={key} or
arn:aws:apigateway:us-west-2:s3:path/{bucket}/{key}

</div>
</div>
<h2 class="pdoc-module-header" id="metrics">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L21">module <b>metrics</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<h3 class="pdoc-member-header" id="cacheHitCount">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L162">function <b>cacheHitCount</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>cacheHitCount(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The number of requests served from the API cache in a given period.

The Sum statistic represents this metric, namely, the total count of the cache hits in the
specified period. The Average statistic represents the cache hit rate, namely, the total count of
the cache hits divided by the total number of requests during the period. The denominator
corresponds to the Count metric (below).

</div>
<h3 class="pdoc-member-header" id="cacheMissCount">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L176">function <b>cacheMissCount</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>cacheMissCount(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The number of requests served from the back end in a given period, when API caching is enabled.

The Sum statistic represents this metric, namely, the total count of the cache misses in the
specified period. The Average statistic represents the cache miss rate, namely, the total count
of the cache hits divided by the total number of requests during the period. The denominator
corresponds to the Count metric (below).

Unit: Count

</div>
<h3 class="pdoc-member-header" id="count">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L187">function <b>count</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>count(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The total number API requests in a given period.

The SampleCount statistic represents this metric.

Unit: Count

</div>
<h3 class="pdoc-member-header" id="error4XX">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L136">function <b>error4XX</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>error4XX(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The number of client-side errors captured in a specified period.

The Sum statistic represents this metric, namely, the total count of the 4XXError errors in the
given period. The Average statistic represents the 4XXError error rate, namely, the total count
of the 4XXError errors divided by the total number of requests during the period. The denominator
corresponds to the Count metric (below).

Unit: Count

</div>
<h3 class="pdoc-member-header" id="error5XX">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L150">function <b>error5XX</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>error5XX(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The number of server-side errors captured in a given period.

The Sum statistic represents this metric, namely, the total count of the 5XXError errors in the
given period. The Average statistic represents the 5XXError error rate, namely, the total count
of the 5XXError errors divided by the total number of requests during the period. The denominator
corresponds to the Count metric (below).

Unit: Count

</div>
<h3 class="pdoc-member-header" id="integrationLatency">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L197">function <b>integrationLatency</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>integrationLatency(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The time between when API Gateway relays a request to the back end and when it receives a
response from the back end.

Unit: Milliseconds

</div>
<h3 class="pdoc-member-header" id="latency">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L207">function <b>latency</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>latency(change?: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The time between when API Gateway receives a request from a client and when it returns a response
to the client. The latency includes the integration latency and other API Gateway overhead.

Unit: Milliseconds

</div>
<h3 class="pdoc-member-header" id="metric">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L97">function <b>metric</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">

<pre class="highlight"><span class='kd'></span>metric(metricName: <a href='#ApigatewayMetricName'>ApigatewayMetricName</a>, change: <a href='#ApigatewayMetricChange'>ApigatewayMetricChange</a>): <a href='#Metric'>Metric</a></pre>


Creates an AWS/ApiGateway metric with the requested [metricName]. See
https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-metrics-and-dimensions.html
for list of all metric-names.

Note, individual metrics can easily be obtained without supplying the name using the other
[metricXXX] functions.

You can use the dimensions in the following table to filter API Gateway metrics.

1. "ApiName": Filters API Gateway metrics for an API of the specified API name.
2. "ApiName, Method, Resource, Stage": Filters API Gateway metrics for an API method of the
   specified API, stage, resource, and method.

   API Gateway will not send such metrics unless you have explicitly enabled detailed CloudWatch
   metrics. You can do this in the console by selecting Enable CloudWatch Metrics under a stage
   Settings tab. Alternatively, you can call the stage:update action of the API Gateway REST API
   to update the metricsEnabled property to true.

   Enabling such metrics will incur additional charges to your account. For pricing information,
   see Amazon CloudWatch Pricing.
3. "ApiName, Stage": Filters API Gateway metrics for an API stage of the specified API and stage.

</div>
<h3 class="pdoc-member-header" id="ApigatewayMetricChange">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L26">interface <b>ApigatewayMetricChange</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
</div>
<h3 class="pdoc-member-header" id="ApigatewayMetricName">
<a class="pdoc-child-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/metrics.ts#L22">type <b>ApigatewayMetricName</b></a>
</h3>
<div class="pdoc-member-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> ApigatewayMetricName = <span class='s2'>"4XXError"</span> | <span class='s2'>"5XXError"</span> | <span class='s2'>"CacheHitCount"</span> | <span class='s2'>"CacheMissCount"</span> | <span class='s2'>"Count"</span> | <span class='s2'>"IntegrationLatency"</span> | <span class='s2'>"Latency"</span>;</pre>
</div>
</div>
<h2 class="pdoc-module-header" id="EventHandlerRoute">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L60">type <b>EventHandlerRoute</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> EventHandlerRoute = {
    apiKeyRequired: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span> | <span class='kd'>false</span> | <span class='kd'>true</span>;
    authorizers: <a href='#Authorizer'>Authorizer</a>[] | <a href='#Authorizer'>Authorizer</a>;
    eventHandler: aws.lambda.EventHandler&lt;<a href='#Request'>Request</a>, <a href='#Response'>Response</a>&gt;;
    method: Method;
    path: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
    requestValidator: RequestValidator;
    requiredParameters: reqvalidation.Parameter[];
};</pre>
</div>
<h2 class="pdoc-module-header" id="RawDataRoute">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L275">type <b>RawDataRoute</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> RawDataRoute = {
    data: <span class='kd'><a href='https://www.typescriptlang.org/docs/handbook/basic-types.html#any'>any</a></span>;
    method: Method;
    path: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
};</pre>

Fallback route for when raw swagger control is desired.  The [data] field should be a javascript
object that will be then included in the final swagger specification like so:

`"paths": { [path]: { [method]: data } }`

This value will be JSON.stringify'd as part of normal processing.  It should not be passed as
string here.

</div>
<h2 class="pdoc-module-header" id="Request">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L46">type <b>Request</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> Request = awslambda.APIGatewayProxyEvent;</pre>
</div>
<h2 class="pdoc-module-header" id="RequestContext">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L48">type <b>RequestContext</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> RequestContext = awslambda.APIGatewayEventRequestContext;</pre>
</div>
<h2 class="pdoc-module-header" id="Response">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L50">type <b>Response</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> Response = awslambda.APIGatewayProxyResult;</pre>
</div>
<h2 class="pdoc-module-header" id="Route">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L58">type <b>Route</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> Route = <a href='#EventHandlerRoute'>EventHandlerRoute</a> | <a href='#StaticRoute'>StaticRoute</a> | <a href='#IntegrationRoute'>IntegrationRoute</a> | <a href='#RawDataRoute'>RawDataRoute</a>;</pre>

A route that that APIGateway should accept and forward to some type of destination. All routes
have an incoming path that they match against.  However, destinations are determined by the kind
of the route.  See [EventHandlerRoute], [StaticRoute], [IntegrationRoute] and [RawJsonRoute] for
additional details.

</div>
<h2 class="pdoc-module-header" id="StaticRoute">
<a class="pdoc-member-name" href="https://github.com/pulumi/pulumi-awsx/blob/master/nodejs/awsx/apigateway/api.ts#L100">type <b>StaticRoute</b></a>
</h2>
<div class="pdoc-module-contents" markdown="1">
<pre class="highlight"><span class='kd'>type</span> StaticRoute = {
    apiKeyRequired: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span> | <span class='kd'>false</span> | <span class='kd'>true</span>;
    authorizers: <a href='#Authorizer'>Authorizer</a>[] | <a href='#Authorizer'>Authorizer</a>;
    contentType: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined'>undefined</a></span> | <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
    index: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean'>boolean</a></span> | <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
    localPath: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
    path: <span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>;
    requestValidator: RequestValidator;
    requiredParameters: reqvalidation.Parameter[];
};</pre>

StaticRoute is a route that will map from an incoming path to the files/directories specified by
[localPath].

</div>
