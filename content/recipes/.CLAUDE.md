---
draft: true
_build:
  render: never
  list: never
---

# CLAUDE.md - Pulumi Recipes Content Guidelines

**CRITICAL REQUIREMENT: NO SELF-GENERATED CODE**

This file contains mandatory guidelines for creating and editing Pulumi Recipes content. These rules are non-negotiable and must be followed without exception.

---

## Code Examples: The Golden Rule

**ALL code examples in recipes MUST come from verified sources. NEVER generate code examples yourself.**

### Approved Sources for Code Examples

1. **Pulumi Registry** (PRIMARY SOURCE)
   - Location: https://www.pulumi.com/registry/
   - All examples in the registry are tested and production-ready
   - Registry code is available in all 5 Pulumi languages
   - Search pattern: `/registry/packages/{provider}/api-docs/{resource}/`
   - Example: `/registry/packages/aws/api-docs/lambda/function/`

2. **Pulumi Documentation**
   - Location: https://www.pulumi.com/docs/
   - Use examples from guides, tutorials, and how-to pages
   - Verify examples are complete and functional

3. **Existing Tested Examples**
   - Location: `/static/programs/` in this repository
   - These examples are tested by CI/CD
   - Used throughout pulumi.com

### Why This Rule Exists

- **Accuracy**: Registry/docs examples are tested and verified
- **Trust**: Users expect working, production-ready code
- **Maintenance**: Registry code is kept up-to-date with API changes
- **Quality**: Examples follow best practices and patterns
- **Legal**: We can only guarantee tested code works correctly

### How to Source Code Examples

1. **Find the resource in the Registry**
   ```
   Navigate to: https://www.pulumi.com/registry/packages/aws/
   Search for the resource (e.g., "Lambda Function")
   Click on the resource to see API documentation
   ```

2. **Extract examples for ALL 5 languages**
   - TypeScript
   - Python
   - Go
   - C#
   - Java

3. **Copy the EXACT code from the registry**
   - Do not modify variable names unnecessarily
   - Do not change formatting (we'll handle that in rendering)
   - Keep imports and setup code intact
   - If the registry example is incomplete, ask for clarification

4. **Verify the example works with the recipe use case**
   - Ensure the example demonstrates the recipe's specific scenario
   - If the exact use case isn't in registry, find the closest match
   - Document any minor adaptations needed

### What To Do If Registry Code Doesn't Exist

**DO NOT generate code yourself.** Instead:

1. Search the registry more thoroughly for related resources
2. Check the provider's documentation on pulumi.com
3. Look in `/static/programs/` for existing tested examples
4. Consult with the team or ask the user for guidance
5. As a last resort, mark the recipe as "pending code verification"

### Code Review Checklist

Before submitting ANY recipe:

- [ ] Code examples are sourced from Pulumi Registry
- [ ] ALL 5 languages are present (TypeScript, Python, Go, C#, Java)
- [ ] Each language's code is copied verbatim from the registry
- [ ] Registry source URL is documented (in comments or PR description)
- [ ] Examples match the recipe's use case
- [ ] No self-generated or modified code is included

---

## Recipe Structure Requirements

### Front Matter

Every recipe must include:

```yaml
---
title: "How to [Action] [Technology] [with Pulumi]"
meta_desc: "[Concise description] with Pulumi in TypeScript, Python, Go, C#, or Java."
canonical_url: "https://www.pulumi.com/recipes/[provider]/[recipe-name]"
date: YYYY-MM-DD
category: "[Compute|Database|Storage|Networking|Security]"
tags: ["provider", "service", "feature"]
faq:
  - question: Question text without quotes
    answer: Answer text without quotes
---
```

### Content Structure

1. **H1**: Question format - "How do I [accomplish task]?"
2. **Answer snippet**: Bold opening sentence with concise answer
3. **Code examples**: Using `{{</* chooser */>}}` and `{{%/* choosable */%}}` shortcodes
4. **Key configuration details**: Explain important parameters
5. **FAQ section**: 5 questions with schema.org markup support

### Tags

Follow the same tagging philosophy as blogs (see `/BLOGGING.md`):

- **Cloud providers**: `aws`, `azure`, `google-cloud`, `kubernetes`
- **Services**: Specific service names like `lambda`, `rds`, `s3`, `eks`
- **Scenarios**: `serverless`, `containers`, `networking`, `security`
- **Keep minimal**: Reuse existing tags, don't create new ones unnecessarily

Tags should be **interactive** - clicking a tag navigates to `/recipes/tag/[tagname]/`

---

## Additional Requirements

### Page Width
- Use standard container classes: `container mx-auto px-4`
- Match blog and docs page widths for consistency
- Avoid arbitrary max-width constraints

### Schema Markup
- Use the integrated schema system (see `/layouts/partials/schema/collectors/recipes-entity.html`)
- Do NOT create custom schema - use the existing automation
- FAQ data in front matter automatically generates schema.org JSON-LD

### Links
- Use Hugo's `relref` shortcode: `[Text]({{</* relref "/path" */>}})`
- Link to registry: `/registry/packages/[provider]/api-docs/[resource]/`
- Link to relevant docs pages

---

## Enforcement

These guidelines are **mandatory**. Code reviews will reject any recipes that:
- Contain self-generated code examples
- Are missing any of the 5 required languages
- Don't source code from registry/docs
- Violate the structure requirements

If you're unsure about any requirement, ask before proceeding.
