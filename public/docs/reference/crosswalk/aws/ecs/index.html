<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="google-site-verification" content="j-Opn93zR4YQcV5bbYN99BmNc48BT5mzd2VpzKaW9YY" />

    

    
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.pulumi.com/docs/reference/crosswalk/aws/ecs/">
    <meta property="og:site_name" content="pulumi">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@PulumiCorp">

    

    
        <meta property="og:title" content="AWS Elastic Container Service (ECS)">
    

    
        <meta name="description" content="Amazon Elastic Container Service (Amazon ECS) is a scalable, high-performance container orchestration service that supports Docker containers and allows you to easily run and scale containerized applications on AWS. ECS eliminates the need for you to install and operate your own container orchestration software, manage and scale a cluster of virtual machines, or schedule containers on those virtual machines.
On This Page    Overview Pulumi Crosswalk for AWS ECS simplifies deploying containerized applications into ECS and managing all of the associated resources.">
        <meta property="og:description" content="Amazon Elastic Container Service (Amazon ECS) is a scalable, high-performance container orchestration service that supports Docker containers and allows you to easily run and scale containerized applications on AWS. ECS eliminates the need for you to install and operate your own container orchestration software, manage and scale a cluster of virtual machines, or schedule containers on those virtual machines.
On This Page    Overview Pulumi Crosswalk for AWS ECS simplifies deploying containerized applications into ECS and managing all of the associated resources.">
    

    
    
    <meta property="og:image" content="https://www.pulumi.com/social/pulumi.png">

    <title>AWS Elastic Container Service (ECS) - Pulumi</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />

    
    <link rel="canonical" href="https://www.pulumi.com/docs/reference/crosswalk/aws/ecs/" >

    
    <link rel="alternate" type="application/rss+xml" href="https://www.pulumi.com/blog/rss.xml" title="Pulumi Blog" />

    
    
    
        
        
        
        <link rel="stylesheet" href="https://www.pulumi.com/css/styles.3496f5522ba2ee3f8bbb9a51ff2cb20fb6827ca85a8ae61de0a9f960bacf1023.css" integrity="sha256-NJb1Uiui7j&#43;Lu5pR/yyyD7aCfKhaiuYd4Kn5YLrPECM=">
    

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    
    <script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
    analytics.load("UK90Ofwacetj5VCPJ7cUgkbNcKLSHO3u");
    analytics.page();
    }}();
    </script>

    
    
        <script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                anchors.add("h1:not(.no-anchor), h2:not(.no-anchor), h3:not(.no-anchor), h4:not(.no-anchor), h5:not(.no-anchor), h6:not(.no-anchor)");
            });
        </script>
    

    
    
</head>

    <body class="section-docs">
        <nav class="bg-black text-white text-sm py-2 px-4 lg:px-0 transition-all max-h-screen md:max-h-full">
    <div class="container mx-auto">
        <ul class="flex justify-end items-center h-6">
            <li class="mr-8"><a href="https://slack.pulumi.io/" target="_blank">Slack</a></li>
            <li class="mr-8"><a href="https://github.com/pulumi" target="_blank">GitHub</a></li>
            <li class="mr-8"><a href="https://app.pulumi.com/" target="_blank">Console</a></li>
            <li class="github-widget">
                <a class="github-button" href="https://github.com/pulumi/pulumi" data-size="small" data-show-count="true" aria-label="Star pulumi/pulumi on GitHub">Star</a>
            </li>
        </ul>
    </div>
</nav>



<nav class="nav-main bg-purple-700 py-6 px-4 lg:px-0 border-t border-purple-500">
    <div class="container mx-auto">
        <header class="flex items-center justify-between flex-wrap md:flex-no-wrap">
            <div class="flex items-center flex-shrink-0 text-white lg:mr-6">
                <a class="block" href="/">
                    <img class="h-10 block" src="/images/logo/logo-inv.svg" alt="Pulumi logo">
                </a>
            </div>

            <div class="nav-header-toggle block md:hidden">
                <button class="flex items-center px-3 py-2 border rounded text-white border-purple-400 bg-purple-600">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <ul class="nav-header-items hidden w-full flex-grow md:flex md:items-center md:w-auto text-white text-sm md:text-xs lg:text-sm uppercase pt-4 md:pt-0">
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/product/" data-submenu="product" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Products
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/why-pulumi/" data-submenu="why" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Why Pulumi
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/pricing/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Pricing
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/docs/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded bg-purple-400 hover:bg-purple-400">
                            Docs
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/blog/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Blog
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/about/" data-submenu="about" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            About
                        </a>
                    </li>
                

                <li class="md:ml-auto md:mr-2 lg:mr-4">
                    <a class="block mt-4 md:mt-0 md:text-xs lg:text-sm btn btn-orange-translucent" href="https://app.pulumi.com/">Sign In</a>
                </li>
                <li>
                    <a class="block mt-4 md:mt-0 md:text-xs lg:text-sm btn" href="https://app.pulumi.com/signup">Sign Up</a>
                </li>
            </ul>
        </header>
    </div>
</nav>
<div class="submenu">
    <div class="text-white relative overflow-visible">
        <div class="submenu-item submenu-item-product hidden absolute inset-x-0 z-50 bg-purple-700 shadow-lg pt-8 pb-16">
            <div class="container mx-auto flex items-start">
                <div class="w-1/2 pr-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">The Pulumi Platform</h3>
                    <p class="text-white">
                        Cloud Apps and Infrastructure for any cloud using languages you already know and love.
                    </p>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-sdk">Pulumi SDK</a>
                            <span>&rarr; Cloud native infrastructure as code.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-crosswalk">Pulumi Crosswalk</a>
                            <span>&rarr; Productive infrastructure as code with built-in best practices.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-saas">Pulumi SaaS</a>
                            <span>&rarr; Continuously deliver and manage cloud software for any cloud.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#multi-cloud-subscription">Multi-Cloud Subscription</a>
                            <span>&rarr; End-to-end Kubernetes solutions to achieve multi-cloud.</span>
                        </li>
                    </ul>
                    <p>
                        <span class="text-white">Pulumi is open source, free to start, and has plans available for teams.</span>
                        <a class="text-orange-500 hover:text-orange-400 hover:mr-1 transition-all" href="/pricing/">View Pricing</a> &rarr;
                    </p>
                </div>
                <div class="w-1/2 pl-12 text-purple-100 text-sm">
                    <h3 class="text-white">Get Started</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/reference/install/">Install (Mac, Windows, Linux)</a> &rarr;
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/">Documentation and Examples</a> &rarr;
                        </li>
                    </ul>
                    <h3 class="text-white">Migrate to Pulumi</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/cloudformation/">from CloudFormation</a> &rarr;
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/terraform/">from Terraform</a> &rarr;
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="submenu-item submenu-item-why hidden absolute inset-x-0 z-50 bg-purple-700 shadow pt-8 pb-16">
           <div class="container mx-auto flex items-start">
                <div class="w-1/2 pr-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">Solutions for All Teams and Engineers</h3>
                    <p class="text-white">
                        Maximize cloud velocity for Dev, DevOps, and IT, no matter your team size.
                    </p>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-developers">For Developers</a>
                            <span>&rarr; Your favorite languages, tools, and libraries.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-operators">For DevOps and IT</a>
                            <span>&rarr; Empower your team to deliver to many clouds.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-business-leaders">For Business Leaders</a>
                            <span>&rarr; Modern multi-cloud for startups and enterprises.</span>
                        </li>
                    </ul>
                </div>
                <div class="w-1/4 px-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">Any Code</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/serverless/">Serverless</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/containers/">Containers</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/kubernetes/">Kubernetes</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/reference/tutorials/aws/tutorial-ec2-webserver/">Infrastructure</a>
                            <span>&rarr;</span>
                        </li>
                    </ul>
                </div>
                <div class="w-1/4 pl-12 text-purple-100 text-sm">
                    <h3 class="text-white">Migrate to Pulumi</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/aws/">AWS</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/azure/">Azure</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/gcp/">GCP</a>
                            <span>&rarr;</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


        
        

        <main>
            
    <div class="container mx-auto px-8 py-8 md:px-0">
        <div class="md:flex">

            <div class="md:w-2/12 mt-2 md:order-last">
                <div class="mb-8 md:mb-4">
                    <form class="relative" action="/docs/search/" method="GET">
    <i class="fas fa-search absolute inset-y-0 flex items-center pl-3 text-gray-500"></i>
    <input
        id="search-query"
        name="q"
        class="block w-full py-2 px-4 pl-8 text-sm border border-gray-400 focus:border-blue-500 focus:outline-none rounded transition"
        placeholder="Search the docs"
        autocomplete="off">
</form>

                </div>

                <div class="ml-3 hidden md:block">
                    
    <ul class="p-0 list-none">
        
        
        
        
        
            <li>
                <a class="text-gray-600 hover:text-blue-700 text-xs" href="https://github.com/pulumi/docs/edit/master/content/docs/reference/crosswalk/aws/ecs.md" target="_blank">
                    <i class="fas fa-edit mr-2"></i>
                    Edit this Page
                </a>
            </li>
        

        <li>
            <a class="text-gray-600 hover:text-blue-700 text-xs" href="https://github.com/pulumi/docs/issues/new?body=File: [docs%2freference%2fcrosswalk%2faws%2fecs.md](https%3a%2f%2fwww.pulumi.com%2fdocs%2freference%2fcrosswalk%2faws%2fecs%2f)" target="_blank">
                <i class="far fa-check-square mr-2"></i>
                Request a Change
            </a>
        </li>
    </ul>


                </div>
            </div>

            <div class="md:w-3/12 pr-8 mt-2 mb-8 pb-8 border-b-2 border-gray-400 md:border-none md:pb-0 md:mb-0">
                








    
    
    


<aside class="toc">
    <h3 class="no-anchor">
        <a href="/docs/">Docs</a>
    </h3>

    
        <h4 class="no-anchor">
            <a href="/docs/quickstart/">Get Started</a>
        </h4>
    
    
        <h4 class="no-anchor">
            <a href="/docs/reference/">Reference</a>
        </h4>
    
    

    
        
        

        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Architecture &amp; Concepts">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Architecture &amp; Concepts" href="/docs/reference/concepts/">Architecture &amp; Concepts</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Architecture &amp; Concepts" href="/docs/reference/concepts/">Architecture &amp; Concepts</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Programming Model" href="/docs/reference/programming-model/">Programming Model</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Projects" href="/docs/reference/project/">Projects</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Stacks" href="/docs/reference/stack/">Stacks</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Configuration and Secrets" href="/docs/reference/config/">Configuration and Secrets</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Organizing Projects and Stacks" href="/docs/reference/organizing-stacks-projects/">Organizing Projects and Stacks</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="How Pulumi Works" href="/docs/reference/how/">How Pulumi Works</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="State and Backends" href="/docs/reference/state/">State and Backends</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Tutorials">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Tutorials" href="/docs/reference/tutorials/">Tutorials</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Tutorials" href="/docs/reference/tutorials/">Tutorials</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div data-title="AWS">
                <div class="sidenav-topic ">
                    <a data-title="AWS" href="/docs/reference/tutorials/aws/">AWS</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="API Gateways and Lambda" href="/docs/reference/tutorials/aws/tutorial-rest-api/">API Gateways and Lambda</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Containers on ECS &#34;Fargate&#34;" href="/docs/reference/tutorials/aws/tutorial-service/">Containers on ECS &#34;Fargate&#34;</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="EC2 Linux WebServer Instance" href="/docs/reference/tutorials/aws/tutorial-ec2-webserver/">EC2 Linux WebServer Instance</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Serve a Static Website from S3" href="/docs/reference/tutorials/aws/tutorial-s3-website/">Serve a Static Website from S3</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Video Thumbnailer" href="/docs/reference/tutorials/aws/tutorial-thumbnailer/">Video Thumbnailer</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Azure">
                <div class="sidenav-topic ">
                    <a data-title="Azure" href="/docs/reference/tutorials/azure/">Azure</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Web Server Container Instance" href="/docs/reference/tutorials/azure/tutorial-container-webserver/">Web Server Container Instance</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Google Cloud">
                <div class="sidenav-topic ">
                    <a data-title="Google Cloud" href="/docs/reference/tutorials/gcp/">Google Cloud</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Web Server Virtual Machine Instance" href="/docs/reference/tutorials/gcp/tutorial-gce-webserver/">Web Server Virtual Machine Instance</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Kubernetes">
                <div class="sidenav-topic ">
                    <a data-title="Kubernetes" href="/docs/reference/tutorials/kubernetes/">Kubernetes</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Clusters: EKS - Hello World!" href="/docs/reference/tutorials/kubernetes/tutorial-eks/">Clusters: EKS - Hello World!</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Clusters: GKE - Hello World!" href="/docs/reference/tutorials/kubernetes/tutorial-gke/">Clusters: GKE - Hello World!</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Clusters: AKS - Hello World!" href="/docs/reference/tutorials/kubernetes/tutorial-aks/">Clusters: AKS - Hello World!</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#1: Hello, World!" href="/docs/reference/tutorials/kubernetes/tutorial-exposed-deployment/">#1: Hello, World!</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#2: Deploying the WordPress Helm Chart" href="/docs/reference/tutorials/kubernetes/tutorial-wordpress-chart/">#2: Deploying the WordPress Helm Chart</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#3: Guestbook App with Redis and Nginx" href="/docs/reference/tutorials/kubernetes/tutorial-guestbook/">#3: Guestbook App with Redis and Nginx</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#4: Graceful App Rollout" href="/docs/reference/tutorials/kubernetes/tutorial-configmap-rollout/">#4: Graceful App Rollout</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#5: Gating rollout on Prometheus checks" href="/docs/reference/tutorials/kubernetes/tutorial-p8s-rollout/">#5: Gating rollout on Prometheus checks</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#6: Run a Stateless App Deployment" href="/docs/reference/tutorials/kubernetes/tutorial-stateless-app/">#6: Run a Stateless App Deployment</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="#7: EKS - Migrating Node Groups with Zero Downtime" href="/docs/reference/tutorials/kubernetes/tutorial-eks-migrate-nodegroups/">#7: EKS - Migrating Node Groups with Zero Downtime</a>
            </div>
        
    

                </div>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Command Line">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Command Line" href="/docs/reference/commands/">Command Line</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Command Line" href="/docs/reference/commands/">Command Line</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Cancel" href="/docs/reference/cli/pulumi_cancel/">Cancel</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Config" href="/docs/reference/cli/pulumi_config/">Config</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Destroy" href="/docs/reference/cli/pulumi_destroy/">Destroy</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Login" href="/docs/reference/cli/pulumi_login/">Login</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Logout" href="/docs/reference/cli/pulumi_logout/">Logout</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Logs" href="/docs/reference/cli/pulumi_logs/">Logs</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="New" href="/docs/reference/cli/pulumi_new/">New</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Plugin" href="/docs/reference/cli/pulumi_plugin/">Plugin</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Preview" href="/docs/reference/cli/pulumi_preview/">Preview</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Refresh" href="/docs/reference/cli/pulumi_refresh/">Refresh</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Stack" href="/docs/reference/cli/pulumi_stack/">Stack</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="State" href="/docs/reference/cli/pulumi_state/">State</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Update" href="/docs/reference/cli/pulumi_up/">Update</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Supported Clouds">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Supported Clouds" href="/docs/reference/clouds/">Supported Clouds</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Supported Clouds" href="/docs/reference/clouds/">Supported Clouds</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div data-title="AWS">
                <div class="sidenav-topic ">
                    <a data-title="AWS" href="/docs/reference/clouds/aws/">AWS</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Setup" href="/docs/reference/clouds/aws/setup/">Setup</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Azure">
                <div class="sidenav-topic ">
                    <a data-title="Azure" href="/docs/reference/clouds/azure/">Azure</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Setup" href="/docs/reference/clouds/azure/setup/">Setup</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Google Cloud">
                <div class="sidenav-topic ">
                    <a data-title="Google Cloud" href="/docs/reference/clouds/gcp/">Google Cloud</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Setup" href="/docs/reference/clouds/gcp/setup/">Setup</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Kubernetes">
                <div class="sidenav-topic ">
                    <a data-title="Kubernetes" href="/docs/reference/clouds/kubernetes/">Kubernetes</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Introduction" href="/docs/reference/clouds/kubernetes/introduction/">Introduction</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Setup" href="/docs/reference/clouds/kubernetes/setup/">Setup</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="FAQ" href="/docs/reference/clouds/kubernetes/faq/">FAQ</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="OpenStack">
                <div class="sidenav-topic ">
                    <a data-title="OpenStack" href="/docs/reference/clouds/openstack/">OpenStack</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Setup" href="/docs/reference/clouds/openstack/setup/">Setup</a>
            </div>
        
    

                </div>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            
                
            

            <div class="toggleVisible separator">
                <div class="toggleVisible" data-title="Crosswalk for AWS 🆕">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Crosswalk for AWS 🆕" href="/docs/reference/crosswalk/aws/">Crosswalk for AWS 🆕</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Crosswalk for AWS 🆕" href="/docs/reference/crosswalk/aws/">Crosswalk for AWS 🆕</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="API Gateway" href="/docs/reference/crosswalk/aws/api-gateway/">API Gateway</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Auto Scaling" href="/docs/reference/crosswalk/aws/autoscaling/">Auto Scaling</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="CloudWatch" href="/docs/reference/crosswalk/aws/cloudwatch/">CloudWatch</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Elastic Container Registry (ECR)" href="/docs/reference/crosswalk/aws/ecr/">Elastic Container Registry (ECR)</a>
            </div>
        
    
        
        
            
        

        
            <div class="sidenav-topic mb-2 active">
                <a data-title="Elastic Container Service (ECS)" href="/docs/reference/crosswalk/aws/ecs/">Elastic Container Service (ECS)</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Elastic Kubernetes Service (EKS)" href="/docs/reference/crosswalk/aws/eks/">Elastic Kubernetes Service (EKS)</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Elastic Load Balancing (ELB)" href="/docs/reference/crosswalk/aws/elb/">Elastic Load Balancing (ELB)</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Identity and Access Management (IAM)" href="/docs/reference/crosswalk/aws/iam/">Identity and Access Management (IAM)</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Lambda" href="/docs/reference/crosswalk/aws/lambda/">Lambda</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Virtual Private Cloud (VPC)" href="/docs/reference/crosswalk/aws/vpc/">Virtual Private Cloud (VPC)</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Other AWS Services" href="/docs/reference/crosswalk/aws/other/">Other AWS Services</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Supported Languages">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Supported Languages" href="/docs/reference/languages/">Supported Languages</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Supported Languages" href="/docs/reference/languages/">Supported Languages</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Node.js" href="/docs/reference/javascript/">Node.js</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Python" href="/docs/reference/python/">Python</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Teams &amp; Collaboration">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Teams &amp; Collaboration" href="/docs/reference/service/">Teams &amp; Collaboration</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Teams &amp; Collaboration" href="/docs/reference/service/">Teams &amp; Collaboration</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Organizations" href="/docs/reference/service/orgs/">Organizations</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Teams" href="/docs/reference/service/teams/">Teams</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Roles and Access Controls" href="/docs/reference/service/roles-and-access-controls/">Roles and Access Controls</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Pulumi GitHub App" href="/docs/reference/cd-github/">Pulumi GitHub App</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Pulumi Webhooks" href="/docs/reference/service/webhooks/">Pulumi Webhooks</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Creating a &#39;Deploy with Pulumi&#39; Button" href="/docs/reference/service/pulumi-button/">Creating a &#39;Deploy with Pulumi&#39; Button</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Continuous Delivery">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Continuous Delivery" href="/docs/reference/cd/">Continuous Delivery</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Continuous Delivery" href="/docs/reference/cd/">Continuous Delivery</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Supporting A New CI System" href="/docs/reference/cd-supporting-new-ci/">Supporting A New CI System</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="AWS Code Services" href="/docs/reference/cd-aws-code-services/">AWS Code Services</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Azure DevOps" href="/docs/reference/cd-azure-devops/">Azure DevOps</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="CircleCI" href="/docs/reference/cd-circleci/">CircleCI</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Codefresh" href="/docs/reference/cd-codefresh/">Codefresh</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="GitLab CI" href="/docs/reference/cd-gitlab-ci/">GitLab CI</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Google Cloud Build" href="/docs/reference/cd-google-cloud-build/">Google Cloud Build</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Pulumi GitHub Actions" href="/docs/reference/cd-github-actions/">Pulumi GitHub Actions</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Travis CI" href="/docs/reference/cd-travis/">Travis CI</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Compared to Others">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Compared to Others" href="/docs/reference/vs/">Compared to Others</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="Compared to Others" href="/docs/reference/vs/">Compared to Others</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Terraform" href="/docs/reference/vs/terraform/">Terraform</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Cloud Templates" href="/docs/reference/vs/cloud_templates/">Cloud Templates</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Cloud SDKs" href="/docs/reference/vs/cloud_sdks/">Cloud SDKs</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Serverless" href="/docs/reference/vs/serverless/">Serverless</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Kubernetes YAML" href="/docs/reference/vs/k8s_yaml_dsls/">Kubernetes YAML</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Chef, Puppet, etc." href="/docs/reference/vs/chef_puppet_etc/">Chef, Puppet, etc.</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="Custom Solutions" href="/docs/reference/vs/custom/">Custom Solutions</a>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="API Reference">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="API Reference" href="/docs/reference/pkg/">API Reference</a><span class="toggleButton">
                                    <i class="fas fa-caret-right"></i>
                                </span></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  sidenav-parent  ">
                            <a data-title="API Reference" href="/docs/reference/pkg/">API Reference</a><span class="toggleButton">
                                    <i class="fas fa-caret-down"></i>
                                </span></div>
                        
                            <div class="sidenav-subsection text-sm">
                                
    
    

    
        
        

        
            <div data-title="Node.js">
                <div class="sidenav-topic ">
                    <a data-title="Node.js" href="/docs/reference/pkg/nodejs/">Node.js</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi" href="/docs/reference/pkg/nodejs/pulumi/pulumi/">pulumi</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="aws" href="/docs/reference/pkg/nodejs/pulumi/aws/">aws</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="awsx" href="/docs/reference/pkg/nodejs/pulumi/awsx/">awsx</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="azure" href="/docs/reference/pkg/nodejs/pulumi/azure/">azure</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="azuread" href="/docs/reference/pkg/nodejs/pulumi/azuread/">azuread</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="cloud" href="/docs/reference/pkg/nodejs/pulumi/cloud/">cloud</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="cloudflare" href="/docs/reference/pkg/nodejs/pulumi/cloudflare/">cloudflare</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="datadog" href="/docs/reference/pkg/nodejs/pulumi/datadog/">datadog</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="digitalocean" href="/docs/reference/pkg/nodejs/pulumi/digitalocean/">digitalocean</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="dnsimple" href="/docs/reference/pkg/nodejs/pulumi/dnsimple/">dnsimple</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="docker" href="/docs/reference/pkg/nodejs/pulumi/docker/">docker</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="eks" href="/docs/reference/pkg/nodejs/pulumi/eks/">eks</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="f5bigip" href="/docs/reference/pkg/nodejs/pulumi/f5bigip/">f5bigip</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="gcp" href="/docs/reference/pkg/nodejs/pulumi/gcp/">gcp</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="gitlab" href="/docs/reference/pkg/nodejs/pulumi/gitlab/">gitlab</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="kubernetes" href="/docs/reference/pkg/nodejs/pulumi/kubernetes/">kubernetes</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="linode" href="/docs/reference/pkg/nodejs/pulumi/linode/">linode</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="mysql" href="/docs/reference/pkg/nodejs/pulumi/mysql/">mysql</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="newrelic" href="/docs/reference/pkg/nodejs/pulumi/newrelic/">newrelic</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="openstack" href="/docs/reference/pkg/nodejs/pulumi/openstack/">openstack</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="packet" href="/docs/reference/pkg/nodejs/pulumi/packet/">packet</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="postgresql" href="/docs/reference/pkg/nodejs/pulumi/postgresql/">postgresql</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="random" href="/docs/reference/pkg/nodejs/pulumi/random/">random</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="terraform" href="/docs/reference/pkg/nodejs/pulumi/terraform/">terraform</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="tls" href="/docs/reference/pkg/nodejs/pulumi/tls/">tls</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="vsphere" href="/docs/reference/pkg/nodejs/pulumi/vsphere/">vsphere</a>
            </div>
        
    

                </div>
            </div>
        
    
        
        

        
            <div data-title="Python">
                <div class="sidenav-topic ">
                    <a data-title="Python" href="/docs/reference/pkg/python/">Python</a>
                </div>
                <div class="sidenav-subsection">
                    
    
    

    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi" href="/docs/reference/pkg/python/pulumi/">pulumi</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_aws" href="/docs/reference/pkg/python/pulumi_aws/">pulumi_aws</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_azure" href="/docs/reference/pkg/python/pulumi_azure/">pulumi_azure</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_azuread" href="/docs/reference/pkg/python/pulumi_azuread/">pulumi_azuread</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_cloudflare" href="/docs/reference/pkg/python/pulumi_cloudflare/">pulumi_cloudflare</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_datadog" href="/docs/reference/pkg/python/pulumi_datadog/">pulumi_datadog</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_digitalocean" href="/docs/reference/pkg/python/pulumi_digitalocean/">pulumi_digitalocean</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_dnsimple" href="/docs/reference/pkg/python/pulumi_dnsimple/">pulumi_dnsimple</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_f5bigip" href="/docs/reference/pkg/python/pulumi_f5bigip/">pulumi_f5bigip</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_gcp" href="/docs/reference/pkg/python/pulumi_gcp/">pulumi_gcp</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_gitlab" href="/docs/reference/pkg/python/pulumi_gitlab/">pulumi_gitlab</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_kubernetes" href="/docs/reference/pkg/python/pulumi_kubernetes/">pulumi_kubernetes</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_linode" href="/docs/reference/pkg/python/pulumi_linode/">pulumi_linode</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_mysql" href="/docs/reference/pkg/python/pulumi_mysql/">pulumi_mysql</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_newrelic" href="/docs/reference/pkg/python/pulumi_newrelic/">pulumi_newrelic</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_openstack" href="/docs/reference/pkg/python/pulumi_openstack/">pulumi_openstack</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_postgresql" href="/docs/reference/pkg/python/pulumi_postgresql/">pulumi_postgresql</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_random" href="/docs/reference/pkg/python/pulumi_random/">pulumi_random</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_tls" href="/docs/reference/pkg/python/pulumi_tls/">pulumi_tls</a>
            </div>
        
    
        
        

        
            <div class="sidenav-topic mb-2 ">
                <a data-title="pulumi_vsphere" href="/docs/reference/pkg/python/pulumi_vsphere/">pulumi_vsphere</a>
            </div>
        
    

                </div>
            </div>
        
    

                            </div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="FAQ">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="FAQ" href="/docs/reference/faq/">FAQ</a></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  ">
                            <a data-title="FAQ" href="/docs/reference/faq/">FAQ</a></div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Download and Install">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Download and Install" href="/docs/reference/install/">Download and Install</a></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  ">
                            <a data-title="Download and Install" href="/docs/reference/install/">Download and Install</a></div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible separator">
                <div class="toggle" data-title="Changelog">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Changelog" href="/docs/reference/changelog/">Changelog</a></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  ">
                            <a data-title="Changelog" href="/docs/reference/changelog/">Changelog</a></div>
                        
                    </div>
                </div>
            </div>
        
            
            

            

            <div class="toggleVisible">
                <div class="toggle" data-title="Troubleshooting &amp; Support">
                    <div class="collapsed">
                        <div class="sidenav-topic ">
                            <a data-title="Troubleshooting &amp; Support" href="/docs/reference/troubleshooting/">Troubleshooting &amp; Support</a></div>
                    </div>
                    <div class="expanded">
                        <div class="sidenav-topic  ">
                            <a data-title="Troubleshooting &amp; Support" href="/docs/reference/troubleshooting/">Troubleshooting &amp; Support</a></div>
                        
                    </div>
                </div>
            </div>
        

    

    
</aside>



            </div>

            <div class="md:w-7/12">
                <h1>AWS Elastic Container Service (ECS)</h1>
                

<p><a href="/docs/reference/crosswalk/aws/">
    <img src="/images/docs/reference/crosswalk/aws/logo.svg" align="right" width="280" style="margin: 0 0 32px 16px;">
</a></p>

<p><a href="https://aws.amazon.com/ecs">Amazon Elastic Container Service (Amazon ECS)</a> is a scalable, high-performance container
orchestration service that supports Docker containers and allows you to easily run and scale containerized applications
on AWS. ECS eliminates the need for you to install and operate your own container orchestration software, manage and
scale a cluster of virtual machines, or schedule containers on those virtual machines.</p>

<div class="mini-toc border-b border-gray-200 mt-2 mb-8 py-6">
    <h4>On This Page</h4>
    <ul>
        
    </ul>
</div>


<h2 id="overview">Overview</h2>

<p>Pulumi Crosswalk for AWS ECS simplifies deploying containerized applications into ECS and managing all of the
associated resources. This includes simple support for load-balanced container services and one-off tasks, in addition
to managing the clusters and associated scaling, network, and security policies. This includes ECS Fargate &ndash; the
simplest option, alleviating the need to manage the cluster&rsquo;s servers themselves &ndash; in addition to ECS classic &ndash;
providing full control over the underlying EC2 machine resources that power your cluster.</p>

<blockquote>
<p>An alternative to ECS is Amazon&rsquo;s Elastic Kubernetes Service (EKS). Similar ECS, EKS lets you operate
containerized applications in a cluster. EKS tends to be more complex to provision and manage, but has
the added advantage of using the industry standard container orchestrator, Kubernetes, and therefore can help
with portability between clouds and on-premises configurations. Please see the
<a href="/docs/reference/crosswalk/aws/eks/">Pulumi Crosswalk for AWS EKS documentation</a> for more information about using EKS.</p>
</blockquote>

<h2 id="creating-a-load-balanced-ecs-service">Creating a Load Balanced ECS Service</h2>

<p>To run a Docker container in ECS using default network and cluster settings, we can use the <code>awsx.ecs.FargateService</code>
class. Because we want to access this container over port 80 using a stable address, we will use a load balancer:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="c1">// Create a load balancer on port 80 and spin up two instances of Nginx.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">lb</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">elasticloadbalancingv2</span><span class="p">.</span><span class="nx">ApplicationListener</span><span class="p">(</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">port</span>: <span class="kt">80</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">nginx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateService</span><span class="p">(</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">taskDefinitionArgs</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">containers</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">nginx</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">image</span><span class="o">:</span> <span class="s2">&#34;nginx&#34;</span><span class="p">,</span>
                <span class="nx">memory</span>: <span class="kt">128</span><span class="p">,</span>
                <span class="nx">portMappings</span><span class="o">:</span> <span class="p">[</span> <span class="nx">lb</span> <span class="p">],</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="nx">desiredCount</span>: <span class="kt">2</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// Export the load balancer&#39;s address so that it&#39;s easy to access.
</span><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">lb</span><span class="p">.</span><span class="nx">endpoint</span><span class="p">.</span><span class="nx">hostname</span><span class="p">;</span></code></pre></div>
<p>After deploying this program, we can access our 2 Nginx web servers behind our load balancer:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl https://<span class="k">$(</span>pulumi stack output url<span class="k">)</span>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>We have chosen to create an <a href="https://docs.aws.amazon.com/elasticloadbalancing">Elastic Load Balancer</a> so that we
can access our services over the Internet at a stable address, spread evenly across 2 instances. Any of the ELB
options described in the <a href="/docs/reference/crosswalk/aws/elb/">Pulumi Crosswalk for ELB documentation</a> can be used with our ECS service.</p>

<p>Behind the scenes, our program also creates an ECS cluster in the default VPC to run the compute. This is something
<a href="#creating-an-ecs-cluster-in-a-vpc">we can configure</a> if we want to use a different VPC.</p>

<p>Because we&rsquo;ve used <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/AWS_Fargate.html"><code>Fargate</code></a>, we don&rsquo;t
need to specify anything about our machine instances. Instead, Fargate will manage that for us automatically based on
the optional <code>memory</code> and <code>cpu</code> values we request for our containers.</p>

<p>For many scenarios, this is exactly what we want: a simple way of just running containerized applications. While this
approach is simple and hides a lot of complexity, it&rsquo;s often desirable to control more of what is going on.</p>

<h2 id="explicitly-creating-ecs-clusters-for-ec2-or-fargate">Explicitly Creating ECS Clusters for EC2 or Fargate</h2>

<p>The <code>awsx.ecs.Cluster</code> class creates a new ECS cluster for Tasks and Services to run within. If you don&rsquo;t specify
a cluster explicitly, then a default one will be created that is configured to use your region&rsquo;s default VPC.</p>

<p>There are a few reasons to want to create a cluster explicitly. The first is to isolate the compute running in
different clusters from one another. Another is to place your cluster in a VPC so that its is isolated at the
networking level. If you want to schedule non-Fargate Tasks and Services, in fact, you will need to create a
cluster explicitly, because you will need to define an Auto Scaling Group that controls the EC2 instances powering it.</p>

<p>To use an explicit cluster, create an instance and pass it as the <code>cluster</code> property for the
<code>awsx.ecs.FargateService</code> or <code>awsx.ecs.EC2Service</code> constructors:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="c1">// Create an ECS cluster explicitly, and give it a name tag.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">Cluster</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&#34;Name&#34;</span><span class="o">:</span> <span class="s2">&#34;my-custom-ecs-cluster&#34;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Deploy a Service into this new cluster.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">nginx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateService</span><span class="p">(</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">cluster</span><span class="p">,</span>
    <span class="c1">// ... as before ...
</span><span class="c1"></span><span class="p">});</span></code></pre></div>
<p>In this example, we simply specify the tags for our cluster. Below we will see examples of other possibilities.</p>

<h2 id="creating-an-ecs-cluster-in-a-vpc">Creating an ECS Cluster in a VPC</h2>

<p>To create an ECS cluster inside of a VPC, we will first create or use an existing VPC using any of the techniques
described in the <a href="/docs/reference/crosswalk/aws/vpc/">Pulumi Crosswalk for AWS VPC documentation</a>. Then we simply pass that
as the <code>vpc</code> argument for our cluster&rsquo;s constructor:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">vpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">Vpc</span><span class="p">(</span><span class="s2">&#34;vpc&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">Cluster</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">vpc</span> <span class="p">});</span>

<span class="kr">const</span> <span class="nx">nginx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateService</span><span class="p">(</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">cluster</span><span class="p">,</span>
    <span class="c1">// ... as before ...
</span><span class="c1"></span><span class="p">});</span></code></pre></div>
<p>By default, the cluster will be given a security group permitting all egress from the cluster, on any TCP port,
and ingress from any address on port 22 and targeting any of the exposed load balancer endpoints in your cluster.
If you wish to override these defaults, pass the <code>securityGroupIds</code> property to the constructor.</p>

<h2 id="creating-an-auto-scaling-group-for-ecs-cluster-instances">Creating an Auto Scaling Group for ECS Cluster Instances</h2>

<p>Using Fargate is easy, because we don&rsquo;t have to worry about the EC2 instances powering our cluster. In the case
that we want more control over the instances and their configuration, however, we can create an
<a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/AutoScalingGroup.html">Auto Scaling Group</a> explicitly, and
the cluster will then use that to run all compute scheduled inside our cluster. This is required to use <code>EC2Service</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">Cluster</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">asg</span> <span class="o">=</span> <span class="nx">cluster</span><span class="p">.</span><span class="nx">createAutoScalingGroup</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">templateParameters</span><span class="o">:</span> <span class="p">{</span> <span class="nx">minSize</span>: <span class="kt">5</span> <span class="p">},</span>
    <span class="nx">launchConfigurationArgs</span><span class="o">:</span> <span class="p">{</span> <span class="nx">instanceType</span><span class="o">:</span> <span class="s2">&#34;t2.medium&#34;</span> <span class="p">},</span>
<span class="p">});</span></code></pre></div>
<p>Because we&rsquo;re manually managing our cluster&rsquo;s compute, we are also responsible for ensuring our cluster has enough
capacity to meet our workload&rsquo;s demands. It is typically not desirable to use a fixed quantity of servers. Instead,
please refer to <a href="https://aws.amazon.com/blogs/compute/automatic-scaling-with-amazon-ecs/">Automatic Scaling with Amazon ECS</a> for best practices on setting up auto-scaling
for your ECS workloads. Remember, Fargate handles all of this for you behind the scenes, but with less control.</p>

<h2 id="using-an-existing-ecs-cluster">Using an Existing ECS Cluster</h2>

<p>If you already have an ECS cluster that you&rsquo;d like to use, and would like to define Tasks and Services that deploy into
it, you can supply the <code>cluster</code> argument to the constructor:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="c1">// Fetch an existing cluster.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">Cluster</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">cluster</span>: <span class="kt">aws.ecs.Cluster.get</span><span class="p">(</span><span class="s2">&#34;existing_cluster_id&#34;</span><span class="p">),</span>
<span class="p">});</span>

<span class="c1">// Deploy a Service into the existing cluster.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">nginx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateService</span><span class="p">(</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">cluster</span><span class="p">,</span>
    <span class="c1">// ... as before ...
</span><span class="c1"></span><span class="p">});</span></code></pre></div>
<p>Notice that we are using <code>aws.ecs.Cluster.get</code> to look up our existing cluster by its ID and then creating an
<code>awsx.ecs.Cluster</code> out of it. (Note the package difference!) The former is the raw resource description, while the
latter is the object type required to work with the Pulumi Crosswalk for AWS ECS APIs.</p>

<h2 id="ecs-tasks-containers-and-services">ECS Tasks, Containers, and Services</h2>

<p>We saw example uses above but didn&rsquo;t describe the details of how ECS core concepts work, or are authored in your
application.</p>

<p>To deploy your application to ECS, it must be containerized. This means authoring a <code>Dockerfile</code> that specifies
how all of your application&rsquo;s runtime dependencies are built and packaged up. This is then used to create an image
that is used by the ECS runtime to mount and run your code, as services scale out. For more information about container
technology, see <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/docker-basics.html">Docker Basics for Amazon ECS</a>.</p>

<p>Given an image, ECS requires that you author a <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html">Task Definition</a>, which specifies what requirements
your Docker application has of the underlying cluster. This includes information about the container(s) to run.
After that, ECS containers may be run as one off <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/scheduling_tasks.html">Tasks</a>, or long-lived <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html">Services</a>.</p>

<h3 id="ecs-task-definitions">ECS Task Definitions</h3>

<p>A task definition is required to run Docker containers in Amazon ECS. We saw above that each Service takes a
<code>taskDefinitionArgs</code> object. Some of the parameters you can specify this task definition include:</p>

<ul>
<li><code>image</code>: The Docker image to use with each container in your task.</li>
<li><code>cpu</code> and <code>memory</code>: How much CPU and memory to use with each task or each container within a task.</li>
<li><code>networkMode</code>: The Docker networking mode to use for the containers (<code>none</code>, <code>bridge</code>, <code>awsvpc</code>, or <code>host</code>).</li>
<li><code>logGroup</code>: The logging configuration to use for your tasks (by default, a new group with 1 day retention).</li>
<li><code>volumes</code>: Any data volumes that should be used with the containers in the task.</li>
<li><code>executionRole</code>: The IAM role that your tasks should assume while running.</li>
</ul>

<p>Of course, the most important part of a task definition is the <code>containers</code> map, which specifies one or many
containers to run as part of your task.</p>

<h3 id="ecs-container-definitions">ECS Container Definitions</h3>

<p>A TaskDefinition&rsquo;s <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html#container_definitions"><code>containers</code> property</a>
specifies the Docker configuration for one or more container instances that are launched by the task.</p>

<p>The simplest way to specify a container to run is to provide a string to the <code>image</code> parameter of the container
definition. This string is either the name of an image on <a href="https://hub.docker.com/">Docker Hub</a>, an <a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/Repositories.html">ECR Repository</a>, or any valid Docker repository URL.</p>

<p>For example, this example simply uses the <code>nginx</code> image from the Docker Hub:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">listener</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">elasticloadbalancingv2</span><span class="p">.</span><span class="nx">NetworkListener</span><span class="p">(</span><span class="s2">&#34;listener&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">port</span>: <span class="kt">80</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateTaskDefinition</span><span class="p">(</span><span class="s2">&#34;task&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">containers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">nginx</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">image</span><span class="o">:</span> <span class="s2">&#34;nginx&#34;</span><span class="p">,</span>
            <span class="nx">memory</span>: <span class="kt">128</span><span class="p">,</span>
            <span class="nx">portMappings</span><span class="o">:</span> <span class="p">[</span> <span class="nx">listener</span> <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span></code></pre></div>
<p>This has the effect of running a single container within our task that runs the Nginx web server.</p>

<h3 id="services">Services</h3>

<p>ECS allows you to run and maintain a specified number of instances of a task definition simultaneously in a cluster.
This is called a Service. If any of your tasks should fail or stop for any reason, ECS launches another instance of
your task definition to replace it and maintain the desired count of tasks using your chosen scheduling strategy.</p>

<p>Although we have seen simple examples of Service definitions above, there are many additional capabilities.</p>

<p>This includes control of the scheduling of your service:</p>

<ul>
<li><p><code>desiredCount</code>: The number of instances of the task definition to place and keep running. Defaults to 1. Do
not specify if using the <code>DAEMON</code> scheduling strategy.</p></li>

<li><p><code>orderedPlacementStrategies</code>: Service level strategy rules that are taken into consideration during task placement.
List from top to bottom in order of precedence. The maximum number of strategies is 5.</p></li>

<li><p><code>placementConstraints</code>: Rules that are taken into consideration during task placement. Maximum number of 10.</p></li>

<li><p><code>schedulingStrategy</code>: The scheduling strategy to use for the service. The valid values are <code>REPLICA</code> and <code>DAEMON</code>.
Defaults to <code>REPLICA</code>. Note that Fargate tasks do not support the <code>DAEMON</code> scheduling strategy.</p></li>

<li><p><code>waitForSteadyState</code>: Wait for the service to reach a steady state (like <a href="https://docs.aws.amazon.com/cli/latest/reference/ecs/wait/services-stable.html"><code>aws ecs wait services-stable</code></a>) before considering a deployment
complete. Defaults to <code>true</code>.</p></li>
</ul>

<p>In addition to control of the health checking of your service:</p>

<ul>
<li><p><code>deploymentMaximumPercent</code>: The upper limit (as a percentage of the service&rsquo;s <code>desiredCount</code>) of the number of running
tasks that can be running in a service during a deployment. Not valid when using the <code>DAEMON</code> scheduling strategy.</p></li>

<li><p><code>deploymentMinimumHealthyPercent</code>: The lower limit (as a percentage of the service&rsquo;s <code>desiredCount</code>) of the number of
running tasks that must remain running and healthy in a service during a deployment.</p></li>

<li><p><code>healthCheckGracePeriodSecond</code>: Seconds to ignore failing load balancer health checks on newly instantiated tasks to
prevent premature shutdown, up to 7200. Only valid for services configured to use load balancers.</p></li>
</ul>

<p>In addition to security and networking configuration:</p>

<ul>
<li><p><code>iamRole</code>: ARN of the IAM role that allows Amazon ECS to make calls to your load balancer on your behalf. This
parameter is required if you are using a load balancer with your service, but only if your task definition does not
use the <code>awsvpc</code> network mode. If using <code>awsvpc</code> network mode, do not specify this role. If your account has already
created the Amazon ECS service-linked role, that role is used by default for your service unless you specify a role</p></li>

<li><p><code>networkConfiguration</code>: The network configuration for the service. This parameter is required for task definitions
that use the <code>awsvpc</code> network mode to receive their own Elastic Network Interface, and it is not supported for other
network modes.</p></li>
</ul>

<p>For additional information about each of these settings, please <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html">refer to the AWS documentation</a>.</p>

<h2 id="building-and-publishing-docker-images-automatically">Building and Publishing Docker Images Automatically</h2>

<p>Containers with Pulumi Crosswalk for AWS ECS are far more flexible than just accepting a pre-existing image URL,
however, and can even refer to a <code>Dockerfile</code> on disk so that you don&rsquo;t need to arrange to build and publish
it separately ahead of time. This makes it very easy to use private registrations for your ECS workloads.</p>

<p>For example, <code>fromPath</code> will run a Docker build in that path, push the result up to an ECR repository, and then pass
the private ECR repostory path to the container:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">const</span> <span class="nx">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateTaskDefinition</span><span class="p">(</span><span class="s2">&#34;task&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">containers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">nginx</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">image</span>: <span class="kt">awsx.ecs.Image.fromPath</span><span class="p">(</span><span class="s2">&#34;&lt;path-to-dockerfile&gt;&#34;</span><span class="p">),</span>
            <span class="c1">// ...
</span><span class="c1"></span>        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span></code></pre></div>
<p>For more control over how the Docker image is built and published, <code>fromDockerBuild</code> can be used. This allows you
to control the build context, whether to cache multi-stage builds, and so on:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">const</span> <span class="nx">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateTaskDefinition</span><span class="p">(</span><span class="s2">&#34;task&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">containers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">nginx</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">image</span>: <span class="kt">awsx.ecs.Image.fromDockerBuild</span><span class="p">({</span>
                <span class="nx">context</span><span class="o">:</span> <span class="s2">&#34;./app&#34;</span><span class="p">,</span>
                <span class="nx">dockerfile</span><span class="o">:</span> <span class="s2">&#34;./app/Dockerfile-multistage&#34;</span><span class="p">,</span>
                <span class="nx">cacheFrom</span><span class="o">:</span> <span class="p">{</span> <span class="nx">stages</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&#34;build&#34;</span> <span class="p">]</span> <span class="p">},</span>
            <span class="p">}),</span>
            <span class="c1">// ...
</span><span class="c1"></span>        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span></code></pre></div>
<p>Finally, you can create a container image from a callback function. This allows you to author the same code that
runs in the container within your Pulumi application directly, much like <a href="/docs/reference/crosswalk/aws/lambda/">magic functions for Lambda</a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">const</span> <span class="nx">listener</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">elasticloadbalancingv2</span><span class="p">.</span><span class="nx">NetworkTargetGroup</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">port</span>: <span class="kt">8080</span> <span class="p">})</span>
                                   <span class="p">.</span><span class="nx">createListener</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">port</span>: <span class="kt">80</span> <span class="p">});</span>

<span class="kr">const</span> <span class="nx">service</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">EC2Service</span><span class="p">(</span><span class="s2">&#34;custom&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">cluster</span><span class="p">,</span>
    <span class="nx">desiredCount</span>: <span class="kt">2</span><span class="p">,</span>
    <span class="nx">taskDefinitionArgs</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">containers</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">webserver</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">memory</span>: <span class="kt">128</span><span class="p">,</span>
                <span class="nx">portMappings</span><span class="o">:</span> <span class="p">[</span> <span class="nx">listener</span> <span class="p">],</span>
                <span class="nx">image</span>: <span class="kt">awsx.ecs.Image.fromFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="kr">const</span> <span class="nx">rand</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
                    <span class="kr">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;http&#34;</span><span class="p">);</span>
                    <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">((</span><span class="nx">req</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">res</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="sb">`Hello, world! (from </span><span class="si">${</span><span class="nx">rand</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
                    <span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">);</span>
                <span class="p">}),</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span></code></pre></div>
<p>This example runs an anonymous web server inside of an image built and published automatically to ECR.</p>

<p>For more information about using ECR, please refer to the <a href="/docs/reference/crosswalk/aws/ecr/">Pulumi Crosswalk for AWS ECR documentation</a>.</p>

<h2 id="running-fire-and-forget-tasks">Running Fire and Forget Tasks</h2>

<p>A ECS TaskDefinition can be used to define a Service, or it can be run on demand in a &ldquo;fire and forget&rdquo; manner
(for example, from within a Lambda callback). This can be done by calling the <code>run</code> method on the Task instance. This
<code>run</code> call must be supplied a cluster to run in.</p>

<p>For example, continuing from above:</p>
<div class="highlight"><pre class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">aws</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/aws&#34;</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">awsx</span> <span class="nx">from</span> <span class="s2">&#34;@pulumi/awsx&#34;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">Cluster</span><span class="p">(</span><span class="s2">&#34;my-cluster&#34;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">helloTask</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">awsx</span><span class="p">.</span><span class="nx">ecs</span><span class="p">.</span><span class="nx">FargateTaskDefinition</span><span class="p">(</span><span class="s2">&#34;hello-world&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">container</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">image</span><span class="o">:</span> <span class="s2">&#34;hello-world&#34;</span><span class="p">,</span>
        <span class="nx">memory</span>: <span class="kt">20</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">aws</span><span class="p">.</span><span class="nx">apigateway</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">API</span><span class="p">(</span><span class="s2">&#34;hello-world-api&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">routes</span><span class="o">:</span> <span class="p">[{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s2">&#34;/hello&#34;</span><span class="p">,</span>
        <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;GET&#34;</span><span class="p">,</span>
        <span class="nx">eventHandler</span>: <span class="kt">async</span> <span class="p">(</span><span class="nx">req</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="c1">// Anytime someone hits the /hello endpoint, schedule our task.
</span><span class="c1"></span>            <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">helloTask</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span> <span class="nx">cluster</span> <span class="p">});</span>
        <span class="p">},</span>
    <span class="p">}],</span>
<span class="p">});</span></code></pre></div>
<p>The calls to <code>run</code> must specify which <code>cluster</code> to run the task in, and may control other aspects of scheduling.</p>

<h2 id="additional-ecs-resources">Additional ECS Resources</h2>

<p>For more information about Amazon ECS, please read the following:</p>

<ul>
<li><a href="https://aws.amazon.com/ecs/">Amazon Elastic Container Service homepage</a></li>
</ul>

            </div>
        </div>
    </div>

        </main>

        <nav class="footer bg-purple-700 py-8 px-8 md:px-0">
    <div class="container mx-auto">
        <footer>
            <div class="md:flex items-top justify-between flex-wrap">

                <div class="mb-6 md:w-4/12">
                    <a class="block mt-2" href="/">
                        <img class="h-10 opacity-50" src="/images/logo/logo-white.svg" alt="Pulumi logo">
                    </a>
                    <a class="inline-block my-4 opacity-50 text-white text-lg" href="mailto:team@pulumi.com">team@pulumi.com</a>
                    <ul class="flex inline-items text-blue-300 text-2xl">
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://twitter.com/pulumicorp" target="_blank"><i class="fab fa-twitter"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://www.linkedin.com/company/pulumi/" target="_blank"><i class="fab fa-linkedin"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://github.com/pulumi/" target="_blank"><i class="fab fa-github"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://www.youtube.com/channel/UC2Dhyn4Ev52YSbcpfnfP0Mw" target="_blank"><i class="fab fa-youtube"></i></a></li>
                        <li><a class="hover:text-blue-200" href="https://slack.pulumi.io/" target="_blank"><i class="fab fa-slack-hash"></i></a></li>
                    </ul>
                </div>

                <div class="flex flex-wrap items-top md:w-8/12">
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/containers/">Containers</a></li>
                        <li class="mb-4"><a href="/serverless/">Serverless</a></li>
                        <li class="mb-4"><a href="/docs/reference/tutorials/aws/tutorial-ec2-webserver/">Infrastructure</a></li>
                        <li class="mb-4"><a href="/kubernetes/">Kubernetes</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/docs/reference/install/">Install</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/">Get Started</a></li>
                        <li class="mb-4"><a href="/docs/reference/">Documentation</a></li>
                        <li class="mb-4"><a href="/docs/reference/pkg/">APIs</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/docs/quickstart/aws/">AWS</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/azure/">Azure</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/gcp/">Google Cloud</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/kubernetes/">Kubernetes</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/cloudfx/">Cloud Framework</a></li>
                        <li class="mb-4"><a href="/docs/reference/clouds/openstack/">OpenStack</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/about/">About Us</a></li>
                        <li class="mb-4"><a href="/contact/">Contact Us</a></li>
                        <li class="mb-4"><a href="/support/">Support</a></li>
                        <li class="mb-4"><a href="/careers/">Careers</a></li>
                    </ul>
                </div>
            </div>

            <div class="text-white opacity-75 text-sm lg:flex items-center border-t border-purple-500 mt-4 pt-4">
                
                <p class="md:w-4/12">&copy; 2019 Pulumi. All rights reserved.</p>

                <ul class="md:w-8/12">
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/trademark/">Trademark Usage</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/acceptable-use/">Acceptable Use Policy</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/terms-and-conditions/">Terms &amp; Conditions</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/privacy/">Privacy Policy</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/professional-services-agreement/">Professional Services Agreement</a></li>
                    
                </ul>
            </div>
        </footer>
    </div>
</nav>

        <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>











    




<script src="/js/bundle.min.8d935315b94bf6e77843b9c51ebc10238af740294e751f49b183b5d1e27a1c27.js" integrity="sha256-jZNTFblL9ud4Q7nFHrwQI4r3QClOdR9JsYO10eJ6HCc="></script>

    </body>
</html>
