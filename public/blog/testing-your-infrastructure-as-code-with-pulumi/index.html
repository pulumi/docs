<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="google-site-verification" content="j-Opn93zR4YQcV5bbYN99BmNc48BT5mzd2VpzKaW9YY" />

    

    
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.pulumi.com/blog/testing-your-infrastructure-as-code-with-pulumi/">
    <meta property="og:site_name" content="pulumi">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@PulumiCorp">

    
        
            
            
                
                    <meta name="twitter:creator" content="@funcOfJoe">
                
            
        
    

    
        <meta property="og:title" content="Testing Your Infrastructure as Code with Pulumi">
    

    
        <meta name="description" content="Using Pulumi and general purpose languages for infrastructure as code
comes with many benefits: leveraging existing skills and knowledge,
eliminating boilerplate through abstraction, and using the same
ecosystem of tools like IDEs and linters that your team already knows
and loves. In general, these are all attributes of software engineering,
which not only make us more productive, but also improve the quality of
our code. It&rsquo;s only natural, therefore, that using general purpose
languages unlocks another important software engineering practice:
testing.

In this article, we will see the many ways in which Pulumi lets us test
our infrastructure as code.">
        <meta property="og:description" content="Using Pulumi and general purpose languages for infrastructure as code
comes with many benefits: leveraging existing skills and knowledge,
eliminating boilerplate through abstraction, and using the same
ecosystem of tools like IDEs and linters that your team already knows
and loves. In general, these are all attributes of software engineering,
which not only make us more productive, but also improve the quality of
our code. It&rsquo;s only natural, therefore, that using general purpose
languages unlocks another important software engineering practice:
testing.

In this article, we will see the many ways in which Pulumi lets us test
our infrastructure as code.">
    

    
    
        
            
        
    
    <meta property="og:image" content="https://www.pulumi.com/blog/testing-your-infrastructure-as-code-with-pulumi/InfraTesting.png">

    <title>Testing Your Infrastructure as Code with Pulumi - Pulumi</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />

    
    <link rel="canonical" href="https://www.pulumi.com/blog/testing-your-infrastructure-as-code-with-pulumi/" >

    
    <link rel="alternate" type="application/rss+xml" href="https://www.pulumi.com/blog/rss.xml" title="Pulumi Blog" />

    
    
    
        
        
        
        <link rel="stylesheet" href="https://www.pulumi.com/css/styles.3496f5522ba2ee3f8bbb9a51ff2cb20fb6827ca85a8ae61de0a9f960bacf1023.css" integrity="sha256-NJb1Uiui7j&#43;Lu5pR/yyyD7aCfKhaiuYd4Kn5YLrPECM=">
    

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    
    <script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
    analytics.load("UK90Ofwacetj5VCPJ7cUgkbNcKLSHO3u");
    analytics.page();
    }}();
    </script>

    
    
        <script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                anchors.add("h1:not(.no-anchor), h2:not(.no-anchor), h3:not(.no-anchor), h4:not(.no-anchor), h5:not(.no-anchor), h6:not(.no-anchor)");
            });
        </script>
    

    
    
        
            
                
            
        
        
    
</head>

    <body class="section-blog">
        <nav class="bg-black text-white text-sm py-2 px-4 lg:px-0 transition-all max-h-screen md:max-h-full">
    <div class="container mx-auto">
        <ul class="flex justify-end items-center h-6">
            <li class="mr-8"><a href="https://slack.pulumi.io/" target="_blank">Slack</a></li>
            <li class="mr-8"><a href="https://github.com/pulumi" target="_blank">GitHub</a></li>
            <li class="mr-8"><a href="https://app.pulumi.com/" target="_blank">Console</a></li>
            <li class="github-widget">
                <a class="github-button" href="https://github.com/pulumi/pulumi" data-size="small" data-show-count="true" aria-label="Star pulumi/pulumi on GitHub">Star</a>
            </li>
        </ul>
    </div>
</nav>



<nav class="nav-main bg-purple-700 py-6 px-4 lg:px-0 border-t border-purple-500">
    <div class="container mx-auto">
        <header class="flex items-center justify-between flex-wrap md:flex-no-wrap">
            <div class="flex items-center flex-shrink-0 text-white lg:mr-6">
                <a class="block" href="/">
                    <img class="h-10 block" src="/images/logo/logo-inv.svg" alt="Pulumi logo">
                </a>
            </div>

            <div class="nav-header-toggle block md:hidden">
                <button class="flex items-center px-3 py-2 border rounded text-white border-purple-400 bg-purple-600">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <ul class="nav-header-items hidden w-full flex-grow md:flex md:items-center md:w-auto text-white text-sm md:text-xs lg:text-sm uppercase pt-4 md:pt-0">
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/product/" data-submenu="product" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Products
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/why-pulumi/" data-submenu="why" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Why Pulumi
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/pricing/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Pricing
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/docs/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            Docs
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/blog/" data-submenu="" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded bg-purple-400 hover:bg-purple-400">
                            Blog
                        </a>
                    </li>
                
                    <li class="whitespace-no-wrap">
                        
                        <a href="/about/" data-submenu="about" class="block py-2 px-4 md:px-0 md:py-0 md:px-4 md:py-2 my-2 md:my-0 lg:mx-4 rounded hover:bg-purple-500">
                            About
                        </a>
                    </li>
                

                <li class="md:ml-auto md:mr-2 lg:mr-4">
                    <a class="block mt-4 md:mt-0 md:text-xs lg:text-sm btn btn-orange-translucent" href="https://app.pulumi.com/">Sign In</a>
                </li>
                <li>
                    <a class="block mt-4 md:mt-0 md:text-xs lg:text-sm btn" href="https://app.pulumi.com/signup">Sign Up</a>
                </li>
            </ul>
        </header>
    </div>
</nav>
<div class="submenu">
    <div class="text-white relative overflow-visible">
        <div class="submenu-item submenu-item-product hidden absolute inset-x-0 z-50 bg-purple-700 shadow-lg pt-8 pb-16">
            <div class="container mx-auto flex items-start">
                <div class="w-1/2 pr-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">The Pulumi Platform</h3>
                    <p class="text-white">
                        Cloud Apps and Infrastructure for any cloud using languages you already know and love.
                    </p>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-sdk">Pulumi SDK</a>
                            <span>&rarr; Cloud native infrastructure as code.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-crosswalk">Pulumi Crosswalk</a>
                            <span>&rarr; Productive infrastructure as code with built-in best practices.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#pulumi-saas">Pulumi SaaS</a>
                            <span>&rarr; Continuously deliver and manage cloud software for any cloud.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/product/#multi-cloud-subscription">Multi-Cloud Subscription</a>
                            <span>&rarr; End-to-end Kubernetes solutions to achieve multi-cloud.</span>
                        </li>
                    </ul>
                    <p>
                        <span class="text-white">Pulumi is open source, free to start, and has plans available for teams.</span>
                        <a class="text-orange-500 hover:text-orange-400 hover:mr-1 transition-all" href="/pricing/">View Pricing</a> &rarr;
                    </p>
                </div>
                <div class="w-1/2 pl-12 text-purple-100 text-sm">
                    <h3 class="text-white">Get Started</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/reference/install/">Install (Mac, Windows, Linux)</a> &rarr;
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/">Documentation and Examples</a> &rarr;
                        </li>
                    </ul>
                    <h3 class="text-white">Migrate to Pulumi</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/cloudformation/">from CloudFormation</a> &rarr;
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/terraform/">from Terraform</a> &rarr;
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="submenu-item submenu-item-why hidden absolute inset-x-0 z-50 bg-purple-700 shadow pt-8 pb-16">
           <div class="container mx-auto flex items-start">
                <div class="w-1/2 pr-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">Solutions for All Teams and Engineers</h3>
                    <p class="text-white">
                        Maximize cloud velocity for Dev, DevOps, and IT, no matter your team size.
                    </p>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-developers">For Developers</a>
                            <span>&rarr; Your favorite languages, tools, and libraries.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-operators">For DevOps and IT</a>
                            <span>&rarr; Empower your team to deliver to many clouds.</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400" href="/why-pulumi/#for-business-leaders">For Business Leaders</a>
                            <span>&rarr; Modern multi-cloud for startups and enterprises.</span>
                        </li>
                    </ul>
                </div>
                <div class="w-1/4 px-12 border-r border-purple-500 text-purple-100 text-sm">
                    <h3 class="text-white">Any Code</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/serverless/">Serverless</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/containers/">Containers</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/kubernetes/">Kubernetes</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/docs/reference/tutorials/aws/tutorial-ec2-webserver/">Infrastructure</a>
                            <span>&rarr;</span>
                        </li>
                    </ul>
                </div>
                <div class="w-1/4 pl-12 text-purple-100 text-sm">
                    <h3 class="text-white">Migrate to Pulumi</h3>
                    <ul class="p-0 leading-loose">
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/aws/">AWS</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/azure/">Azure</a>
                            <span>&rarr;</span>
                        </li>
                        <li>
                            <a class="text-orange-500 font-bold hover:text-orange-400 hover:mr-1 transition-all" href="/gcp/">GCP</a>
                            <span>&rarr;</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


        
        

        <main>
            
    <div class="container mx-auto px-8 py-8 md:px-0">
        <div class="md:flex">
            <div class="md:w-3/12 pr-8">
                
<aside class="md:pr-8">

    
    <div class="md:hidden">
        <button class="blog-sidebar-toggle items-center px-3 py-2 border rounded text-purple border-purple">
            <i class="fas fa-bars"></i>
        </button>
        <a href="/blog/">üçπ Pulumi Blog</a>
    </div>

    <h3 class="no-anchor hidden md:flex mt-4">
        <a href="/blog/">üçπ Pulumi Blog</a>
    </h3>

    
    <div class="blog-sidebar-content hidden md:block">
        <div class="bg-gray-100 rounded-lg p-4 my-6 text-gray-700">
            <h5 class="no-anchor text-gray-700">Program the Cloud</h5>
            <p class="text-sm my-0">
                Create, deploy, and manage cloud infrastructure using your favorite language.
            </p>
        </div>

        <ul class="list-none p-0 mb-4 inline-flex flex-wrap text-xs">
            
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/apigateway/">
                            apigateway
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/applications/">
                            applications
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/auth/">
                            auth
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/aws/">
                            aws
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/azure/">
                            azure
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/ci/cd/">
                            ci/cd
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/cloud-native/">
                            cloud-native
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/containers/">
                            containers
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/customer/">
                            customer
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/digitalocean/">
                            digitalocean
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/docker/">
                            docker
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/eks/">
                            eks
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/events/">
                            events
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/features/">
                            features
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/gcp/">
                            gcp
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/gke/">
                            gke
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/infrastructure/">
                            infrastructure
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/javascript/">
                            javascript
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/jupyter/">
                            jupyter
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/kubernetes/">
                            kubernetes
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/lambda/">
                            lambda
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/logging/">
                            logging
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/mysql/">
                            mysql
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/new-features/">
                            new-features
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/pulumi/">
                            pulumi
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/pulumi-news/">
                            pulumi-news
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/python/">
                            python
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/security/">
                            security
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/serverless/">
                            serverless
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/testing/">
                            testing
                        </a>
                    </li>
                
            
                
                    <li>
                        
                        
                        <a class="px-2 py-1 mr-1 rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="https://www.pulumi.com/blog/tag/typescript/">
                            typescript
                        </a>
                    </li>
                
            
        </ul>

        <div class="hidden lg:block my-4">
            <h5 class="no-anchor">Recent Posts</h5>
            <ul class="list-none p-0">
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/day-2-kubernetes-migrating-eks-nodegroups-with-zero-downtime/">Day 2 Kubernetes: Migrating EKS Node Groups with Zero Downtime</a>
                        </li>
                    
                
                    
                        
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/getting-started-on-digitalocean-with-pulumi/">Getting Started on DigitalOcean with Pulumi</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/pulumi-meetup-recap-apis-custom-resources-and-github-webhooks/">Pulumi Meetup Recap: APIs, Custom Resources and GitHub Webhooks</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/persisting-kubernetes-workloads-with-amazon-efscsi-volumes-using-pulumi-sdks/">Persisting Kubernetes workloads with Amazon EFS CSI volumes using Pulumi open source SDKs</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/unit-testing-infrastructure-in-nodejs-and-mocha/">Unit Testing Your Infrastructure with Node.js and Mocha</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/kubernetes-ingress-with-aws-alb-ingress-controller-and-pulumi-crosswalk/">Kubernetes Ingress with AWS ALB Ingress Controller and Pulumi Crosswalk for AWS</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/globally-distributed-serverless-application-in-100-lines-of-code-infrastructure-included/">Globally-distributed Serverless Application in 100 Lines of Code. Infrastructure Included!</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/hosting-a-static-website-on-azure-with-pulumi/">Hosting a Static Website on Azure with Pulumi</a>
                        </li>
                    
                
                    
                        <li class="my-4 leading-snug">
                            <a class="text-sm" href="https://www.pulumi.com/blog/running-containers-in-aws-the-lowdown-ecs-fargate-and-eks/">Running Containers in AWS, the Lowdown: ECS, Fargate, and EKS</a>
                        </li>
                    
                
            </ul>
        </div>
    </div>

    <div class="md:hidden pb-4">
        
    </div>
</aside>

            </div>

            <div class="md:w-7/12">
                <article class="mb-8 pb-8 border-b border-gray-200">
                    <h1 class="no-anchor"><a href="https://www.pulumi.com/blog/testing-your-infrastructure-as-code-with-pulumi/">Testing Your Infrastructure as Code with Pulumi</a></h1>
                    <div class="flex items-center">
                        <span>
                            <span class="flex items-center">
    
        
        

        <span class="flex items-center mr-2">
            
                <a class="rounded-full p-1 bg-gray-300 mr-2" href="https://www.pulumi.com/blog/author/joe-duffy/">
                    <img class="w-8 rounded-full" src="/images/team/joe-duffy.jpg" alt="Joe Duffy" title="Joe Duffy">
                </a>
                <a class="" href="https://www.pulumi.com/blog/author/joe-duffy/">Joe Duffy</a>
            
        </span>
    
</span>

                        </span>
                    </div>
                    <section>
                        <p>Using Pulumi and general purpose languages for infrastructure as code
comes with many benefits: leveraging existing skills and knowledge,
eliminating boilerplate through abstraction, and using the same
ecosystem of tools like IDEs and linters that your team already knows
and loves. In general, these are all attributes of software engineering,
which not only make us more productive, but also improve the quality of
our code. It&rsquo;s only natural, therefore, that using general purpose
languages unlocks another important software engineering practice:
<strong>testing</strong>.</p>

<p>In this article, we will see the many ways in which Pulumi lets us test
our infrastructure as code.</p>

<p><img src="./InfraTesting.png" alt="Testing Infrastructure" /></p>

<h2 id="why-test-your-infrastructure">Why Test¬†Your Infrastructure?</h2>

<p>Before jumping into the details, it&rsquo;s worth asking: Why test your
infrastructure, anyway? There are many reasons to do this, however here
are a few examples:</p>

<ul>
<li>Unit testing individual functions or pieces of logic in your program</li>
<li>Ensuring that the program&rsquo;s desired infrastructure state meets
certain constraints</li>
<li>Catching common mistakes, like forgetting to encrypt your storage
buckets, or exposing virtual machines unprotected to the open
Internet</li>
<li>Ensuring that the provisioned infrastructure has certain desired
attributes</li>
<li>Doing runtime testing of the application logic that is running
inside of your compute infrastructure, to ensure that it is healthy
after your infrastructure has been provisioned</li>
</ul>

<p>As we see, there&rsquo;s a broad spectrum of infrastructure testing options
available. Pulumi has mechanisms available for testing at each point
along this spectrum. Let&rsquo;s dig in and see how.</p>

<h2 id="unit-testing">Unit Testing</h2>

<p>Pulumi programs are authored in a general purpose language like
JavaScript, Python, TypeScript, or Go. The full power of each language
is available, including access to tools and libraries for that runtime,
including testing frameworks. Pulumi is also multi-cloud, meaning the
full underlying platform for each cloud is available too, and therefore
available for testing.</p>

<p>(Despite being multi-language and multi-cloud, for the purposes of this
article let&rsquo;s assume we are using JavaScript, with Mocha for testing,
and targeting AWS. Python <code>unittest</code>, Go&rsquo;s test framework, or any of
your favorite unit test frameworks in your language of choice would do,
and of course Pulumi works great with Azure, Google Cloud, and
Kubernetes, among others.)</p>

<p>As we&rsquo;ve seen, there are several reasons you may want to test your
infrastructure code. One of them is basic unit testing. Because your
code may have functions &ndash; say, to compute CIDR blocks, dynamically
compute names and tags, etc. &ndash; you probably want to test them. Doing
this is the same as writing ordinary unit tests against any program in
your language as choice.</p>

<p>Going one step further, you may want to test the way your program
allocates resources. To illustrate, let&rsquo;s imagine we want to create a
simple EC2-based webserver, but want to ensure:</p>

<ul>
<li>Instances have a <code>Name</code> tag.</li>
<li>Instances must not use an inline <code>userData</code> script &ndash; we must use
an AMI (image).</li>
<li>Instances must not have SSH open to the Internet.</li>
</ul>

<p>Our running example is loosely based on
<a href="https://github.com/pulumi/examples/tree/master/aws-js-webserver">our aws-js-webserver example</a>:</p>

<p><strong>index.js:</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">aws</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@pulumi/aws&#34;</span><span class="p">);</span>
¬†
<span class="kd">let</span> <span class="nx">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">aws</span><span class="p">.</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">SecurityGroup</span><span class="p">(</span><span class="s2">&#34;web-secgrp&#34;</span><span class="p">,</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="nx">ingress</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">protocol</span><span class="o">:</span> <span class="s2">&#34;tcp&#34;</span><span class="p">,</span> <span class="nx">fromPort</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span> <span class="nx">toPort</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span> <span class="nx">cidrBlocks</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;0.0.0.0/0&#34;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">protocol</span><span class="o">:</span> <span class="s2">&#34;tcp&#34;</span><span class="p">,</span> <span class="nx">fromPort</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nx">toPort</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nx">cidrBlocks</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;0.0.0.0/0&#34;</span><span class="p">]</span> <span class="p">},</span>
¬†¬†¬†¬†<span class="p">],</span>
<span class="p">});</span>
¬†
<span class="kd">let</span> <span class="nx">userData</span> <span class="o">=</span>
<span class="sb">`#!/bin/bash echo &#34;Hello, World!&#34; &gt; index.html nohup python -m SimpleHTTPServer 80 &amp;`</span><span class="p">;</span>
¬†
<span class="kd">let</span> <span class="nx">server</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">aws</span><span class="p">.</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">Instance</span><span class="p">(</span><span class="s2">&#34;web-server-www&#34;</span><span class="p">,</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="nx">instanceType</span><span class="o">:</span> <span class="s2">&#34;t2.micro&#34;</span><span class="p">,</span>
¬†¬†¬†¬†<span class="nx">securityGroups</span><span class="o">:</span> <span class="p">[</span> <span class="nx">group</span><span class="p">.</span><span class="nx">name</span> <span class="p">],</span> <span class="c1">// reference the group object above
</span><span class="c1"></span>¬†¬†¬†¬†<span class="nx">ami</span><span class="o">:</span> <span class="s2">&#34;ami-c55673a0&#34;</span>             <span class="c1">// AMI for us-east-2 (Ohio),
</span><span class="c1"></span>¬†¬†¬†¬†<span class="nx">userData</span><span class="o">:</span> <span class="nx">userData</span>              <span class="c1">// start a simple web server
</span><span class="c1"></span><span class="p">});</span>
¬†
<span class="nx">exports</span><span class="p">.</span><span class="nx">group</span> <span class="o">=</span> <span class="nx">group</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">server</span> <span class="o">=</span> <span class="nx">server</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">publicIp</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">publicIp</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">publicHostName</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">publicDns</span><span class="p">;</span>
</code></pre></div>
<p>This is a basic Pulumi program: it simply allocates an EC2 security
group and instance. Notice, however, that we are violating all three of
the rules stated above &ndash; let&rsquo;s write some tests!</p>

<h3 id="writing-the-tests">Writing the Tests</h3>

<p>The overall structure and scaffolding of our tests will look like any
ordinary Mocha testing:</p>

<p><strong>ec2tests.js</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">assert</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;assert&#34;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">mocha</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;mocha&#34;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">pulumi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@pulumi/pulumi&#34;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">infra</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;./index&#34;</span><span class="p">);</span>
¬†
<span class="nx">describe</span><span class="p">(</span><span class="s2">&#34;Infrastructure&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="kd">let</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">infra</span><span class="p">.</span><span class="nx">server</span><span class="p">;</span>
¬†¬†¬†¬†<span class="nx">describe</span><span class="p">(</span><span class="s2">&#34;#server&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// TODO(check 1): Instances have a Name tag.
</span><span class="c1"></span>    <span class="c1">// TODO(check 2): Instances must not use an inline userData script.
</span><span class="c1"></span>¬†¬†¬†¬†<span class="p">});</span>
¬†¬†¬†¬†<span class="kd">let</span> <span class="nx">group</span> <span class="o">=</span> <span class="nx">infra</span><span class="p">.</span><span class="nx">group</span><span class="p">;</span>
¬†¬†¬†¬†<span class="nx">describe</span><span class="p">(</span><span class="s2">&#34;#group&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// TODO(check 3): Instances must not have SSH open to the Internet.
</span><span class="c1"></span>¬†¬†¬†¬†<span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>Now let&rsquo;s implement our first test: ensuring that instances have a
<code>Name</code> tag. To verify this we simply need to grab hold of the EC2
instance object, and check the relevant <code>tags</code> property:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// check 1: Instances have a Name tag.
</span><span class="c1"></span><span class="nx">it</span><span class="p">(</span><span class="s2">&#34;must have a name tag&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pulumi</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">server</span><span class="p">.</span><span class="nx">urn</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">tags</span><span class="p">]).</span><span class="nx">apply</span><span class="p">(([</span><span class="nx">urn</span><span class="p">,</span> <span class="nx">tags</span><span class="p">])</span> <span class="p">=&gt;</span> <span class="p">{</span>
    ¬†¬†¬†¬†<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">tags</span> <span class="o">||</span> <span class="o">!</span><span class="nx">tags</span><span class="p">[</span><span class="s2">&#34;Name&#34;</span><span class="p">])</span> <span class="p">{</span>
        ¬†¬†¬†¬†<span class="nx">done</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="sb">`Missing a name tag on server </span><span class="si">${</span><span class="nx">urn</span><span class="si">}</span><span class="sb">`</span><span class="p">));</span>
    ¬†¬†¬†¬†<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    ¬†¬†¬†¬†    <span class="nx">done</span><span class="p">();</span>
    ¬†¬†¬†¬†<span class="p">}</span>
¬†¬†¬†¬†<span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>This looks like a normal test, with a few noteworthy pieces:</p>

<ul>
<li>Since we&rsquo;re querying resource state before we&rsquo;ve done a deployment,
our tests are always effectively running in &ldquo;plan&rdquo; (or &ldquo;preview&rdquo;)
mode. Thus, there are many properties whose values will simply not
resolve yet or will be undefined. This includes any output
properties computed by your cloud provider. That&rsquo;s fine for these
tests &ndash; we&rsquo;re checking for valid inputs anyway. We&rsquo;ll revisit this
later when it comes to integration testing.</li>
<li>Because all Pulumi resource properties are &ldquo;outputs&rdquo; &ndash; since many
of them are computed asynchronously &ndash; we need to use the apply
method to get access to the values. This is a lot like promises and
the <code>then</code> function.</li>
<li>Because we are using multiple properties, mostly just so we can show
the resource URN in the error message, we need to use the
<code>pulumi.all</code> function to join all of them.</li>
<li>Finally, since these outputs are resolved asynchronously, we need to
use Mocha&rsquo;s built-in asynchronous test capability, with the <code>done</code>
callback, or by returning a promise.</li>
</ul>

<p>After we&rsquo;ve gotten through that setup, we get access to the raw inputs
as plain JavaScript values. The <code>tags</code> property is a map, so we just
make sure it is (1) not falsey, and (2) not missing an entry for the
<code>Name</code> key in the map. This is very basic, but we can check anything!</p>

<p>Now let&rsquo;s write our second check. It&rsquo;s even easier:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// check 2: Instances must not use an inline userData script.
</span><span class="c1"></span>    <span class="nx">it</span><span class="p">(</span><span class="s2">&#34;must not use userData (use an AMI instead)&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">pulumi</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">server</span><span class="p">.</span><span class="nx">urn</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">userData</span><span class="p">]).</span><span class="nx">apply</span><span class="p">(([</span><span class="nx">urn</span><span class="p">,</span> <span class="nx">userData</span><span class="p">])</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">userData</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">done</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="sb">`Illegal use of userData on server </span><span class="si">${</span><span class="nx">urn</span><span class="si">}</span><span class="sb">`</span><span class="p">));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">done</span><span class="p">();</span>
            <span class="p">}</span>
¬†¬†¬†¬†<span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>And finally, let&rsquo;s write our third check. It&rsquo;s a bit more complex
because we&rsquo;re searching for ingress rules associated with a security
group &ndash; of which there may be many &ndash; and CIDR blocks within those
ingress rules &ndash; of which there may also be many. But it&rsquo;s still easy:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// check 3: Instances must not have SSH open to the Internet.
</span><span class="c1"></span><span class="nx">it</span><span class="p">(</span><span class="s2">&#34;must not open port 22 (SSH) to the Internet&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pulumi</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span> <span class="nx">group</span><span class="p">.</span><span class="nx">urn</span><span class="p">,</span> <span class="nx">group</span><span class="p">.</span><span class="nx">ingress</span> <span class="p">]).</span><span class="nx">apply</span><span class="p">(([</span> <span class="nx">urn</span><span class="p">,</span> <span class="nx">ingress</span> <span class="p">])</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">ingress</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">rule</span> <span class="p">=&gt;</span>
            <span class="nx">rule</span><span class="p">.</span><span class="nx">fromPort</span> <span class="o">==</span> <span class="mi">22</span> <span class="o">&amp;&amp;</span> <span class="nx">rule</span><span class="p">.</span><span class="nx">cidrBlocks</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">block</span> <span class="p">=&gt;</span> <span class="nx">block</span> <span class="o">===</span> <span class="s2">&#34;0.0.0.0/0&#34;</span><span class="p">)))</span> <span class="p">{</span>
            ¬†¬†¬†¬†<span class="nx">done</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="sb">`Illegal SSH port 22 open to the Internet (CIDR 0.0.0.0/0) on group </span><span class="si">${</span><span class="nx">urn</span><span class="si">}</span><span class="sb">`</span><span class="p">));</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        ¬†¬†¬†¬†<span class="nx">done</span><span class="p">();</span>
        <span class="p">}</span>
¬†¬†¬†¬†<span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>That&rsquo;s it &ndash; now let&rsquo;s actually run the tests!</p>

<h3 id="running-the-tests">Running the Tests</h3>

<p>For the most part, we can run the tests in the usual way in your test
framework of choice. There is one thing specific to Pulumi we need to
cover first, however.</p>

<p>Usually you run your Pulumi programs with the pulumi CLI. That
configures the language runtime, monitors execution from the engine so
that resource operations can be recorded and turned into a plan, and so
on. There is one problem, however: When running under the watchful eye
of your test framework, this connection to the CLI, and Pulumi&rsquo;s engine,
will not exist.</p>

<p>To work around this problem, we simply have to mock three pieces of
information:</p>

<ul>
<li>Your project name, which can be supplied with the
<code>PULUMI_NODEJS_PROJECT</code> environment variable (or more generally
<code>PULUMI_&lt;LANGUAGE&gt;_PROJECT</code> in other languages).</li>
<li>Your stack name, which can be supplied with the
<code>PULUMI_NODEJS_STACK</code> environment variable (or more generally
<code>PULUMI_&lt;LANGUAGE&gt;_STACK</code> in other languages).</li>
<li>Your stack configuration variables. These can be supplied using the
<code>PULUMI_CONFIG</code> environment variable, and its format is a JSON map
of configuration key/value pairs.</li>
</ul>

<p>The program will emit some warning messages indicating the connection to
the CLI/engine is not available at runtime. This is important to know,
because your program won&rsquo;t actually be deploying anything &ndash; which can
come as a surprise if that&rsquo;s not what you meant to do! To tell Pulumi
that&rsquo;s what you intended, you can set <code>PULUMI_TEST_MODE</code> to <code>true</code>.</p>

<p>Imagine we want a project name of <code>my-ws</code>, stack name of <code>dev</code>, and AWS
region of <code>us-west-2</code>. The command line to run your Mocha tests would
therefore be:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nv">PULUMI_TEST_MODE</span><span class="o">=</span><span class="nb">true</span>  <span class="se">\
</span><span class="se"></span>  <span class="nv">PULUMI_NODEJS_STACK</span><span class="o">=</span><span class="s2">&#34;my-ws&#34;</span> <span class="se">\
</span><span class="se"></span>  <span class="nv">PULUMI_NODEJS_PROJECT</span><span class="o">=</span><span class="s2">&#34;dev&#34;</span> <span class="se">\
</span><span class="se"></span>  <span class="nv">PULUMI_CONFIG</span><span class="o">=</span><span class="s1">&#39;{ &#34;aws:region&#34;: &#34;us-west-2&#34; }&#39;</span>  <span class="se">\
</span><span class="se"></span>  mocha tests.js</code></pre></div>
<p>Running this will tell us that we have three failing tests, as we had
hoped!</p>

<pre><code>      Infrastructure
    ¬†¬†¬†¬†#server
     1) must have a name tag ¬†¬†¬†¬† 2) must not use userData (use an AMI instead)
    ¬†¬†¬†¬†#group
     3) must not open port 22 (SSH) to the Internet 
    ¬†¬†0 passing (17ms)
    ¬†¬†3 failing
    ¬†
    ¬†1) Infrastructure
    ¬†¬†¬†¬†¬†¬†¬†#server
        ¬†must have a name tag:
     Error: Missing a name tag on server
     urn:pulumi:my-ws::my-dev::aws:ec2/instance:Instance::web-server-www 
    ¬†2) Infrastructure
    ¬†¬†¬†¬†¬†¬†¬†#server
        ¬†must not use userData (use an AMI instead):
     Error: Illegal use of userData on server
     urn:pulumi:my-ws::my-dev::aws:ec2/instance:Instance::web-server-www 
    ¬†3) Infrastructure
    ¬†¬†¬†¬†¬†¬†¬†#group
        ¬†must not open port 22 (SSH) to the Internet:
     Error: Illegal SSH port 22 open to the Internet (CIDR 0.0.0.0/0) on group ¬† 
</code></pre>

<p>Let&rsquo;s fix our program to comply:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
¬†
<span class="kd">let</span> <span class="nx">aws</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@pulumi/aws&#34;</span><span class="p">);</span>
¬†
<span class="kd">let</span> <span class="nx">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">aws</span><span class="p">.</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">SecurityGroup</span><span class="p">(</span><span class="s2">&#34;web-secgrp&#34;</span><span class="p">,</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="nx">ingress</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">protocol</span><span class="o">:</span> <span class="s2">&#34;tcp&#34;</span><span class="p">,</span> <span class="nx">fromPort</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nx">toPort</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nx">cidrBlocks</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;0.0.0.0/0&#34;</span><span class="p">]</span> <span class="p">},</span>
¬†¬†¬†¬†<span class="p">],</span>
<span class="p">});</span>
¬†
<span class="kd">let</span> <span class="nx">server</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">aws</span><span class="p">.</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">Instance</span><span class="p">(</span><span class="s2">&#34;web-server-www&#34;</span><span class="p">,</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="nx">tags</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Name&#34;</span><span class="o">:</span> <span class="s2">&#34;web-server-www&#34;</span> <span class="p">},</span>
¬†¬†¬†¬†<span class="nx">instanceType</span><span class="o">:</span> <span class="s2">&#34;t2.micro&#34;</span><span class="p">,</span>
¬†¬†¬†¬†<span class="nx">securityGroups</span><span class="o">:</span> <span class="p">[</span> <span class="nx">group</span><span class="p">.</span><span class="nx">name</span> <span class="p">],</span> <span class="c1">// reference the group object above
</span><span class="c1"></span>¬†¬†¬†¬†<span class="nx">ami</span><span class="o">:</span> <span class="s2">&#34;ami-c55673a0&#34;</span>             <span class="c1">// AMI for us-east-2 (Ohio),
</span><span class="c1"></span><span class="p">});</span>
¬†
<span class="nx">exports</span><span class="p">.</span><span class="nx">group</span> <span class="o">=</span> <span class="nx">group</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">server</span> <span class="o">=</span> <span class="nx">server</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">publicIp</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">publicIp</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">publicHostName</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">publicDns</span><span class="p">;</span>
</code></pre></div>
<p>And then rerun our tests:</p>

<pre><code>      Infrastructure
    ¬†¬†¬†¬†#server
    ¬†¬†¬†¬†¬†¬†‚úì must have a name tag
    ¬†¬†¬†¬†¬†¬†‚úì must not use userData (use an AMI instead)
    ¬†¬†¬†¬†#group
    ¬†¬†¬†¬†¬†¬†‚úì must not open port 22 (SSH) to the Internet
    ¬†
    ¬†
    ¬†3 passing (16ms)
</code></pre>

<p>They all passed &ndash; huzzah! <strong>‚úì‚úì‚úì</strong></p>

<h2 id="deployment-testing">Deployment Testing</h2>

<p>This style of testing is powerful and lets us do white box testing of
the innards of how our infrastructure code works. This style of testing
is somewhat limited in what we can check, however. The tests run on an
in-memory representation of Pulumi&rsquo;s deployment plan &ndash; before actually
performing the deployment &ndash; and so cannot test anything the deployment
itself. For that, Pulumi has an integration test framework. The two
approaches work great together!</p>

<p>Pulumi&rsquo;s integration test framework is written in Go and is how we test
much of our internal code. If the earlier unit test approach took more
of a white box testing approach, the integration test framework is very
much black box. (There are also options for thorough internals-oriented
testing.) This framework has been built to take a directory containing a
full Pulumi program and drive various lifecycle operations against it
&ndash; such as deploying a new stack from scratch, updating it with
variations, and tearing it down afterwards, potentially multiple times.
We run these in checkin suites, on a recurring basis (such as nightly),
and as stress tests.</p>

<p>(We have <a href="https://github.com/pulumi/pulumi/issues/2287">an open work item</a> which will bring
similar integration testing capabilities to each native language SDK.
You can use the Go integration test framework no matter the language
your Pulumi program is written in, however.)</p>

<p>By running a program through this integration test framework, you can
ensure:</p>

<ul>
<li>Your project&rsquo;s code is syntactically well formed and runs without
errors.</li>
<li>Your stack&rsquo;s configuration and secrets settings work and are
interpreted correctly.</li>
<li>Your project can be successfully deployed to your cloud provider of
choice.</li>
<li>Your project can be successfully updated from its starting state to
N other states.</li>
<li>Your project can be successfully destroyed and removed from your
cloud provider.</li>
</ul>

<p>As we will see soon, you can also leverage this framework to perform
runtime validation.</p>

<h3 id="a-basic-integration-test">A Basic Integration Test</h3>

<p>To see this in action, we&rsquo;ll look from the pulumi/examples repo, since
our team and community here at Pulumi use that to validate our own
examples in pull requests, checkins, and nightlies.</p>

<p>The following is a simplified test of our example that provisions an
<a href="https://github.com/pulumi/examples/tree/master/aws-js-s3-folder">S3 bucket and some objects in Pulumi</a>:</p>

<p><strong>example_test.go:</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">test</span>

<span class="kn">import</span> <span class="p">(</span>
¬†¬†¬†¬†<span class="s">&#34;os&#34;</span>
¬†¬†¬†¬†<span class="s">&#34;path&#34;</span>
¬†¬†¬†¬†<span class="s">&#34;testing&#34;</span>
¬†
¬†¬†¬†¬†<span class="s">&#34;github.com/pulumi/pulumi/pkg/testing/integration&#34;</span>
<span class="p">)</span>
¬†
<span class="kd">func</span> <span class="nf">TestExamples</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
¬†¬†¬†¬†<span class="nx">awsRegion</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;AWS_REGION&#34;</span><span class="p">)</span>
¬†¬†¬†¬†<span class="k">if</span> <span class="nx">awsRegion</span> <span class="o">==</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
    <span class="nx">awsRegion</span> <span class="p">=</span> <span class="s">&#34;us-west-1&#34;</span>
¬†¬†¬†¬†<span class="p">}</span>
¬†¬†¬†¬†<span class="nx">cwd</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getwd</span><span class="p">()</span>
¬†¬†¬†¬†<span class="nx">integration</span><span class="p">.</span><span class="nf">ProgramTest</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">integration</span><span class="p">.</span><span class="nx">ProgramTestOptions</span><span class="p">{</span>
    <span class="nx">Quick</span><span class="p">:</span>       <span class="kc">true</span><span class="p">,</span>
    <span class="nx">SkipRefresh</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">Dir</span><span class="p">:</span>         <span class="nx">path</span><span class="p">.</span><span class="nf">Join</span><span class="p">(</span><span class="nx">cwd</span><span class="p">,</span> <span class="s">&#34;..&#34;</span><span class="p">,</span> <span class="s">&#34;..&#34;</span><span class="p">,</span> <span class="s">&#34;aws-js-s3-folder&#34;</span><span class="p">),</span>
    <span class="nx">Config</span><span class="p">:</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
    ¬†¬†¬†¬†<span class="s">&#34;aws:region&#34;</span><span class="p">:</span> <span class="nx">awsRegion</span><span class="p">,</span>
    <span class="p">},</span>
¬†¬†¬†¬†<span class="p">})</span>
<span class="p">}</span></code></pre></div>
<p>This test runs through a basic lifecycle of stack creation, updating,
and destruction, for the <code>aws-js-s3-folder</code> example. It takes about a
minute or so to report success:</p>

<pre><code>$ go test .
PASS
ok      ... 43.993s
</code></pre>

<p>There are many, many options to control the behavior of these tests. For
a full set of options, see <a href="https://godoc.org/github.com/pulumi/pulumi/pkg/testing/integration#ProgramTestOptions">the <code>ProgramTestOptions</code> data
structure</a>.
For instance, you can configure a Jaeger endpoint for tracing
(<code>Tracing</code>), tell the harness to expect failure for negative testing
(<code>ExpectFailure</code>), apply a series of &ldquo;edits&rdquo; to the program for a
sequence of update state transitions (<code>EditDirs</code>), and more. Let&rsquo;s see
how to use these to do validate that we deployed what we expected.</p>

<h3 id="validating-the-shape-of-resources">Validating the Shape of Resources</h3>

<p>All of the above integration ensures that our program &ldquo;works&rdquo; &ndash; as in,
it does not crash. But what if we want to validate properties of the
resulting stack? For example, that certain kinds of resources did (or
did not) get provisioned, and that they have certain attributes.</p>

<p>The <code>ExtraRuntimeValidation</code> option for <code>ProgramTestOptions</code> allows us
to look at the post-deployment state that Pulumi has captured, so that
we can do extra validation on it. This includes a full snapshot of the
resulting stack&rsquo;s state, including configuration, exported outputs, all
resources and their property values, and all inter-resource
dependencies.</p>

<p>To see a basic example of this, let&rsquo;s check that our program creates a
single S3 Bucket:</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">integration</span><span class="p">.</span><span class="nf">ProgramTest</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">integration</span><span class="p">.</span><span class="nx">ProgramTestOptions</span><span class="p">{</span>
    <span class="c1">// as before...
</span><span class="c1"></span>    <span class="nx">ExtraRuntimeValidation</span><span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">,</span> <span class="nx">stack</span> <span class="nx">integration</span><span class="p">.</span><span class="nx">RuntimeValidationStackInfo</span><span class="p">)</span> <span class="p">{</span>
¬†¬†¬†¬†    <span class="kd">var</span> <span class="nx">foundBuckets</span> <span class="kt">int</span>
    ¬†¬†¬†¬†<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">res</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">Deployment</span><span class="p">.</span><span class="nx">Resources</span> <span class="p">{</span>
            <span class="k">if</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Type</span> <span class="o">==</span> <span class="s">&#34;aws:s3/bucket:Bucket&#34;</span> <span class="p">{</span>
        ¬†¬†¬†¬†    <span class="nx">foundBuckets</span><span class="o">++</span>
            <span class="p">}</span>
    ¬†¬†¬†¬†<span class="p">}</span>
    ¬†¬†¬†¬†<span class="nx">assert</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">foundBuckets</span><span class="p">,</span> <span class="s">&#34;Expected to find a single AWS S3 Bucket&#34;</span><span class="p">)</span>
    <span class="p">},</span>
<span class="p">})</span></code></pre></div>
<p>Now when we run <code>go test</code>, it will not only run through the battery of
lifecycle tests but will also, after successfully standing up the stack,
perform the extra validation against the resulting state.</p>

<h2 id="runtime-testing">Runtime Testing</h2>

<p>All of the testing thus far has been exclusively about deployment
behavior and the Pulumi resource model. What if you want to test that
your provisioned infrastructure is actually working, however? For
example, that our VM is alive, our S3 bucket contains what we expect,
and so on.</p>

<p>You may have already guessed how to accomplish some of this: the
<code>ExtraRuntimeValidation</code> option for <code>ProgramTestOptions</code> is the perfect
opportunity to do this. At this point, you are running an arbitrary Go
test, with access to the full state of your program&rsquo;s resources. This
state includes information such as VM IP addresses, URLs, and everything
you need to actually interact with your resulting cloud applications and
infrastructure to perform verification.</p>

<p>For instance, our test program above exports the bucket&rsquo;s
<code>websiteEndpoint</code> property, as the stack output named <code>websiteUrl</code>,
which is a full URL that we can use to fetch the bucket&rsquo;s configured
index document. Although we could just as well have dug through the
state file to find the bucket and read this property directly, many
times our stacks will export useful properties like this that we can use
conveniently for verification:</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go">¬†¬†¬†¬†<span class="nx">integration</span><span class="p">.</span><span class="nf">ProgramTest</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">integration</span><span class="p">.</span><span class="nx">ProgramTestOptions</span><span class="p">{</span>
    ¬†¬†¬†¬†<span class="c1">// as before ...
</span><span class="c1"></span>    <span class="nx">ExtraRuntimeValidation</span><span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">,</span> <span class="nx">stack</span> <span class="nx">integration</span><span class="p">.</span><span class="nx">RuntimeValidationStackInfo</span><span class="p">)</span> <span class="p">{</span>
    ¬†¬†¬†¬†<span class="nx">url</span> <span class="o">:=</span> <span class="s">&#34;http://&#34;</span> <span class="o">+</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">Outputs</span><span class="p">[</span><span class="s">&#34;websiteUrl&#34;</span><span class="p">].(</span><span class="kt">string</span><span class="p">)</span>
    ¬†¬†¬†¬†<span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    ¬†¬†¬†¬†<span class="k">if</span> <span class="p">!</span><span class="nx">assert</span><span class="p">.</span><span class="nf">NoError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>
    ¬†¬†¬†¬†<span class="p">}</span>
    ¬†¬†¬†¬†<span class="k">if</span> <span class="p">!</span><span class="nx">assert</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">StatusCode</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>
    ¬†¬†¬†¬†<span class="p">}</span>
    ¬†¬†¬†¬†<span class="k">defer</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
    ¬†¬†¬†¬†<span class="nx">body</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
    ¬†¬†¬†¬†<span class="k">if</span> <span class="p">!</span><span class="nx">assert</span><span class="p">.</span><span class="nf">NoError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>
    ¬†¬†¬†¬†<span class="p">}</span>
    ¬†¬†¬†¬†<span class="nx">assert</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nb">string</span><span class="p">(</span><span class="nx">body</span><span class="p">),</span> <span class="s">&#34;Hello, Pulumi!&#34;</span><span class="p">)</span>
    <span class="p">},</span>
<span class="p">})</span></code></pre></div>
<p>Like our previous runtime validation checks, this will run in the
harness right after the stack is stood up, all in response to a simple
<code>go test</code> invocation. This just scratches the surface of what&rsquo;s possible
&ndash; anything you can write in code using Go&rsquo;s test capabilities is
within reach!</p>

<h2 id="continuous-infrastructure-integration">Continuous Infrastructure Integration</h2>

<p>It&rsquo;s wonderful to be able to easily run these on demand, on a laptop,
when you&rsquo;re iterating on infrastructure changes and want to verify them
before submitting for code review. But we and many of our customers run
infrastructure testing at various points in the development lifecycle:</p>

<ul>
<li>In each pull request opened, to validate before allowing it to be
merged.</li>
<li>In response to each commit, to double check it was merged correctly.</li>
<li>On a recurring basis, such as nighty or even weekly for extended
testing.</li>
<li>As part of more exotic and thorough test programs, such as
performance or stress testing, which typically run over a longer
period of time, execute many things in parallel, and/or deploy the
same program multiple times.</li>
</ul>

<p>For each of these, Pulumi supports integration with your favorite
continuous integration system. This gives you similar continuous
integration testing coverage for your infrastructure as you might
already enjoy for your application software or in other programming
domains.</p>

<p>Pulumi supports your existing CI systems. Here are a few of those
supported:</p>

<ul>
<li><a href="https://www.pulumi.com/docs/reference/cd-aws-code-services/">AWS Code Services</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-azure-devops/">Azure DevOps</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-circleci/">CircleCI</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-github-actions/">GitHub Actions</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-gitlab-ci/">GitLab CI</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-google-cloud-build/">Google Cloud Build</a></li>
<li><a href="https://www.pulumi.com/docs/reference/cd-travis/">Travis</a></li>
</ul>

<p>Please refer to the
<a href="https://www.pulumi.com/docs/reference/cd/">Continuous Delivery documentation</a>) for a more
comprehensive guide.</p>

<h2 id="ephemeral-environments">Ephemeral Environments</h2>

<p>A very powerful capability this unlocks is the ability to spin up
ephemeral environments solely for purposes of acceptance testing.
Pulumi&rsquo;s concept of <a href="https://www.pulumi.com/docs/reference/organizing-stacks-projects/">projects and stacks</a> is
designed to make it very easy to stand up entirely isolated and
independent environments, and to tear them down, all in either a few
easy CLI gestures, or by using the integration testing framework.</p>

<p>If you are using GitHub, Pulumi offers a
<a href="https://www.pulumi.com/docs/reference/cd-github/">GitHub App</a> that helps to glue
together your Pull Request workflow with this sort of acceptance testing
run inside of your CI pipelines. Simply install the App into your GitHub
repos, and Pulumi in your CI, and your Pull Requests will light up with
infrastructure previews, updates, and test results seamlessly:</p>

<p><img src="./pr-comment.png" alt="pr-comment" /></p>

<p>By leveraging Pulumi for your core acceptance test workflow, you&rsquo;ll
unlock new automation capabilities that improve your team&rsquo;s productivity
and confidence in the quality of changes.</p>

<h2 id="in-summary">In Summary</h2>

<p>In this post, we saw that by using general purpose programming
languages, we unlock many software engineering practices we&rsquo;ve benefited
from in our application development. This includes unit testing,
integration testing, and even the intersection of both to do extensive
runtime testing. It&rsquo;s easy to run these on demand and harness them in
your CI system of choice.</p>

<p>Pulumi is open source, free to use, and works with your favorite
languages and clouds &ndash; <a href="https://www.pulumi.com/docs/">give it a try today</a>!</p>
                    </section>
                    <div>
                        <p class="text-gray-500">Posted on <time>Wednesday, Apr 17, 2019</time>
                        
                        <ul class="m-0 p-0">
                            
                            <li class="inline-flex">
                                
                                <a class="px-2 text-s rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="/blog/tag/javascript/">
                                    JavaScript
                                </a>
                            </li>
                            
                            <li class="inline-flex">
                                
                                <a class="px-2 text-s rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="/blog/tag/typescript/">
                                    TypeScript
                                </a>
                            </li>
                            
                            <li class="inline-flex">
                                
                                <a class="px-2 text-s rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="/blog/tag/ci/cd/">
                                    CI/CD
                                </a>
                            </li>
                            
                            <li class="inline-flex">
                                
                                <a class="px-2 text-s rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="/blog/tag/cloud-native/">
                                    Cloud-Native
                                </a>
                            </li>
                            
                            <li class="inline-flex">
                                
                                <a class="px-2 text-s rounded transition-all bg-white border border-gray-200 text-blue-600 hover:border-blue-600" href="/blog/tag/python/">
                                    Python
                                </a>
                            </li>
                            
                        </ul>
                        
                    </div>
                </article>
            </div>

            <div class="md:w-2/12 pl-8">
                
            </div>
        </div>
    </div>

        </main>

        <nav class="footer bg-purple-700 py-8 px-8 md:px-0">
    <div class="container mx-auto">
        <footer>
            <div class="md:flex items-top justify-between flex-wrap">

                <div class="mb-6 md:w-4/12">
                    <a class="block mt-2" href="/">
                        <img class="h-10 opacity-50" src="/images/logo/logo-white.svg" alt="Pulumi logo">
                    </a>
                    <a class="inline-block my-4 opacity-50 text-white text-lg" href="mailto:team@pulumi.com">team@pulumi.com</a>
                    <ul class="flex inline-items text-blue-300 text-2xl">
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://twitter.com/pulumicorp" target="_blank"><i class="fab fa-twitter"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://www.linkedin.com/company/pulumi/" target="_blank"><i class="fab fa-linkedin"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://github.com/pulumi/" target="_blank"><i class="fab fa-github"></i></a></li>
                        <li class="mr-4"><a class="hover:text-blue-200" href="https://www.youtube.com/channel/UC2Dhyn4Ev52YSbcpfnfP0Mw" target="_blank"><i class="fab fa-youtube"></i></a></li>
                        <li><a class="hover:text-blue-200" href="https://slack.pulumi.io/" target="_blank"><i class="fab fa-slack-hash"></i></a></li>
                    </ul>
                </div>

                <div class="flex flex-wrap items-top md:w-8/12">
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/containers/">Containers</a></li>
                        <li class="mb-4"><a href="/serverless/">Serverless</a></li>
                        <li class="mb-4"><a href="/docs/reference/tutorials/aws/tutorial-ec2-webserver/">Infrastructure</a></li>
                        <li class="mb-4"><a href="/kubernetes/">Kubernetes</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/docs/reference/install/">Install</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/">Get Started</a></li>
                        <li class="mb-4"><a href="/docs/reference/">Documentation</a></li>
                        <li class="mb-4"><a href="/docs/reference/pkg/">APIs</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/docs/quickstart/aws/">AWS</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/azure/">Azure</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/gcp/">Google Cloud</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/kubernetes/">Kubernetes</a></li>
                        <li class="mb-4"><a href="/docs/quickstart/cloudfx/">Cloud Framework</a></li>
                        <li class="mb-4"><a href="/docs/reference/clouds/openstack/">OpenStack</a></li>
                    </ul>
                    <ul class="my-4 text-white w-1/2 md:w-3/12">
                        <li class="mb-4"><a href="/about/">About Us</a></li>
                        <li class="mb-4"><a href="/contact/">Contact Us</a></li>
                        <li class="mb-4"><a href="/support/">Support</a></li>
                        <li class="mb-4"><a href="/careers/">Careers</a></li>
                    </ul>
                </div>
            </div>

            <div class="text-white opacity-75 text-sm lg:flex items-center border-t border-purple-500 mt-4 pt-4">
                
                <p class="md:w-4/12">&copy; 2019 Pulumi. All rights reserved.</p>

                <ul class="md:w-8/12">
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/trademark/">Trademark Usage</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/acceptable-use/">Acceptable Use Policy</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/terms-and-conditions/">Terms &amp; Conditions</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/privacy/">Privacy Policy</a></li>
                    
                        <li class="inline mr-2 lg:mr-4"><a href="/professional-services-agreement/">Professional Services Agreement</a></li>
                    
                </ul>
            </div>
        </footer>
    </div>
</nav>

        <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>











    




<script src="/js/bundle.min.8d935315b94bf6e77843b9c51ebc10238af740294e751f49b183b5d1e27a1c27.js" integrity="sha256-jZNTFblL9ud4Q7nFHrwQI4r3QClOdR9JsYO10eJ6HCc="></script>

    </body>
</html>
