{{ define "hero" }}
    <header class="home-page-hero">
        <div class="home-page-hero-background border-b border-gray-300">
            <div class="flex">
                <div class="w-full p-6 home-page-hero-text lg:pt-8">
                    <h1 class="flex flex-col items-center">
                        <span class="inline-block mb-3 text-center" data-text="{{ index (.Params.hero.title) 0 }}"><span class="rainbow-text">{{ index (.Params.hero.title) 0 }}</span></span>
                        <span class="inline-block text-center" data-text="{{ index (.Params.hero.title) 1 }}">{{ index (.Params.hero.title) 1 }}</span>
                    </h1>

                    <p class="mt-6 text-center leading-7 text-xl">{{ .Params.hero.description | markdownify }}</p>

                    <div class="relative z-10 overlay-middle mt-8 flex text-center justify-center items-center flex-col mx-auto lg:mx-0 md:flex-row">
                        <a class="home-hero-btn-primary mr-0 md:mr-4 mb-3 md:mb-0" href="{{ .Params.hero.cta_link }}">{{ .Params.hero.cta_text }}</a>
                        <a class="btn-secondary home-hero-btn-secondary rounded-full cursor-pointer" href="{{ .Params.hero.secondary_cta_link }}">{{ .Params.hero.secondary_cta_text }}</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
{{ end }}

{{ define "main" }}
    {{ $pageContext := . }}
    
    <!-- Customer Logos - Social Proof First -->
    <section class="container mx-auto text-center overflow-hidden px-3 mt-12" style="margin-bottom: -35px;">
        <h3 class="text-center text-xl">
            <a href="/case-studies" class="hover:underline">{{ .Params.customer_logos.title }}</a>
        </h3>
        <div class="mb-6">
            {{ partial "stacked-carousel.html" (dict "logos" .Params.customer_logos.logos "single_row" true "gray_hover" true ) }}
        </div>
    </section>

    <!-- 3 Core Benefits -->
    <section id="benefits" class="text-center my-6">
        <div class="container mx-auto flex flex-wrap justify-content items-stretch text-left p-8">
            {{ range $item := .Params.pillars.items }}
                <div class="w-full lg:w-1/3 p-3">
                    <div class="h-full card shadow-xl border-2 border-gray-200 bg-white p-12">
                        <div class="flex flex-row items-center justify-left">
                            <div class="icon-section text-center">
                                {{ partial "color-icon.html" (dict "icon" $item.icon "icon_color" $item.icon_color) }}
                            </div>
                            <div class="ml-4">
                                <h5>{{ $item.title }}</h5>
                            </div>
                        </div>
                        <div class="mt-6">
                            <p>{{ $item.description | markdownify }}</p>
                        </div>
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

    <!-- Quick Start Guide - Show How Easy It Is -->
    {{ partial "home/quick-start.html" . }}

    <!-- Main Demo Section with Code Examples -->
    <section class="my-12 p-6 lg:px-0 home-page-section bg-gradient-to-r from-white from-0% via-violet-200 via-50% to-white to-100%">
        <div class="container mx-auto z-10">
            <div class="w-full flex flex-col lg:flex-row items-center justify-center mx-auto">
                <div class="w-full lg:w-4/12">
                    <h3>See It In Action</h3>
                    <p class="text-lg">Write infrastructure code with real programming languages. Get autocomplete, type checking, and all the IDE features you love.</p>
                    <div class="my-8">
                        <a href="/docs/iac/get-started" class="btn-primary">Start Building Now</a>
                    </div>
                </div>
                <div class="hidden lg:block w-1/12">
                    <!-- empty div to get flex to behave -->
                </div>
                <div class="w-full lg:w-7/12 xl:w-6/12 xxl:w-5/12 card bg-white shadow-xl p-6 block">
                    <div>
                        <pulumi-chooser type="language" options="typescript,python,go,csharp,java,yaml">
                            <pulumi-choosable type="language" class="highlight" value="typescript">
                                <img
                                    class="mx-auto w-full"
                                    src="/images/home/typescript.svg"
                                    alt="Pulumi code being written in TypeScript showing autocomplete for creating a new S3 bucket"
                                />
                            </pulumi-choosable>

                            <pulumi-choosable type="language" class="highlight" value="python">
                                <img class="mx-auto w-full" src="/images/home/python.svg" alt="Pulumi code being written in Python showing autocomplete for creating a new S3 bucket" />
                            </pulumi-choosable>

                            <pulumi-choosable type="language" class="highlight" value="go">
                                <img class="mx-auto w-full" src="/images/home/go.svg" alt="Pulumi code being written in GO showing autocomplete for creating a new S3 bucket" />
                            </pulumi-choosable>

                            <pulumi-choosable type="language" class="highlight" value="csharp">
                                <img class="mx-auto w-full" src="/images/home/c-sharp.svg" alt="Pulumi code being written in C# showing autocomplete for creating a new S3 bucket" />
                            </pulumi-choosable>

                            <pulumi-choosable type="language" class="highlight" value="java">
                                <img class="mx-auto w-full" src="/images/home/java.svg" alt="Pulumi code being written in Java showing autocomplete for creating a new S3 bucket" />
                            </pulumi-choosable>

                            <pulumi-choosable type="language" class="highlight" value="yaml">
                                <img class="mx-auto w-full" src="/images/home/yaml.svg" alt="Pulumi code being written in YAML showing autocomplete for creating a new S3 bucket" />
                            </pulumi-choosable>
                        </pulumi-chooser>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Pulumi vs Terraform Comparison -->
    {{ partial "home/why-pulumi.html" . }}

    <!-- Platform Capabilities - ONE unified section instead of 4 -->
    <section class="py-12 my-12 px-6 lg:px-0">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4">Everything You Need as You Scale</h2>
                <p class="text-xl text-gray-700 max-w-3xl mx-auto">
                    Start with open source. Add capabilities as your team grows. No vendor lock-in.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-key"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Secrets Management</h4>
                    <p class="text-gray-600">Automatically encrypt secrets. Integrate with any vault. Never hardcode credentials again.</p>
                    <a href="/product/esc" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Policy as Code</h4>
                    <p class="text-gray-600">Define guardrails in code. Prevent mistakes before they happen. Stay compliant automatically.</p>
                    <a href="/crossguard" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Cost Insights</h4>
                    <p class="text-gray-600">See all cloud resources in one place. Find waste. Track spending. Know what changed.</p>
                    <a href="/product/pulumi-insights" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Team Collaboration</h4>
                    <p class="text-gray-600">Share state safely. Review changes together. Manage permissions. Work better as a team.</p>
                    <a href="/product/pulumi-cloud" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-cubes"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Developer Portal</h4>
                    <p class="text-gray-600">Let developers self-serve infrastructure. Create golden paths. Apply guardrails automatically.</p>
                    <a href="/product/internal-developer-platforms" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                    <div class="text-purple-600 text-3xl mb-4">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">AI Assistant</h4>
                    <p class="text-gray-600">Get help writing infrastructure code. Debug faster. Learn as you build.</p>
                    <a href="/ai" class="text-purple-600 hover:text-purple-700 mt-4 inline-block">Learn more →</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Single Testimonials Section -->
    <section class="bg-gray-50 py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">What Engineers Are Saying</h2>
            
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <p class="text-gray-700 italic mb-4">
                        "Nothing is better than having standard programming languages for building and managing infrastructure"
                    </p>
                    <div class="flex items-center">
                        <img src="/logos/customers/panther-labs-logo.svg" class="h-8 mr-4" alt="Panther Labs">
                        <div>
                            <p class="font-semibold">Austin Byers</p>
                            <p class="text-sm text-gray-600">Principal Platform Engineer, Panther Labs</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <p class="text-gray-700 italic mb-4">
                        "We've made cloud infrastructure really easy to use for our developers."
                    </p>
                    <div class="flex items-center">
                        <img src="/logos/customers/clear-logo.svg" class="h-8 mr-4" alt="Clear">
                        <div>
                            <p class="font-semibold">James Forcier</p>
                            <p class="text-sm text-gray-600">Staff Software Engineer, Clear</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <a href="/case-studies" class="text-purple-600 hover:text-purple-700 font-semibold">
                    Read more customer stories →
                </a>
            </div>
        </div>
    </section>

    <!-- Open Source Community -->
    <section class="mt-16 mb-36 relative flex flex-col">
        <div class="container mx-auto px-3 overflow-hidden lg:overflow-visible">
            <div class="w-full bg-violet-600 rounded-xl shadow p-16 lg:pb-56 align-top">
                <h2 class="text-white text-center">Open source. Built by engineers for engineers.</h2>
                <div class="flex flex-col lg:flex-row items-center justify-center mb-4">
                    <a class="text-white text-lg bold underline flex self-start lg:self-auto mt-4 lg:mt-0 mx-auto lg:mx-0 lg:pr-1" href="https://slack.pulumi.com/"
                        >Join the Pulumi community,</a>
                    <p class="text-white text-lg mx-auto my-0 lg:mx-0 lg:my-auto"> and let's build together.</p>
                </div>
            </div>

            <!-- Twitter testimonials carousel -->
            <div class="large-container mx-auto absolute -bottom-12 left-0 pt-12 hidden lg:block">
                <pulumi-swiper slides="3" centered-slides="true" initial-slide="3" loop="true" autoplay="true" autoplay-delay="4000" speed="1000">
                    {{ range $tweet := .Params.get_started.tweets }}
                        <pulumi-swipeable>
                            <div class="w-full px-4 text-left">
                                <div class="flex flex-col card p-6 bg-white h-60">
                                    <p class="flex-grow mt-0">{{ $tweet.text }}</p>
                                    <div class="flex items-center w-full pb-1">
                                        <a href="{{ $tweet.link }}" target="_blank" rel="noopener noreferrer">
                                            <div class="rounded-full border-none w-12 h-12 mr-4 overflow-hidden">
                                                <img src="{{ $tweet.avatar }}" onerror="$(this).hide();" />
                                            </div>
                                        </a>
                                        <a href="{{ $tweet.link }}" class="flex-grow text-gray-600 hover:text-gray-600 hover:underline" target="_blank" rel="noopener noreferrer">
                                            {{ $tweet.username }}
                                        </a>
                                        <img class="h-6" src="/logos/tech/x.svg" alt="X" />
                                    </div>
                                </div>
                            </div>
                        </pulumi-swipeable>
                    {{ end }}
                </pulumi-swiper>
            </div>
        </div>
    </section>
{{ end }}

{{ define "foot" }}
    <script async defer src="https://buttons.github.io/buttons.js"></script>
{{ end }}