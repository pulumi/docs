{{ $version := .Get "version" }}
{{ if not $version }}
    {{ errorf "missing value for param 'version': %s" .Position }}
{{ end }}
{{ $flatVersion := replace $version "." "" }}

{{ $date := .Get "date" }}
{{ if not $date }}
    {{ errorf "missing value for param 'date': %s" .Position }}
{{ end }}
{{ if ne (len (split $date "-")) 3 }}
    {{ errorf "invalid number of components for param 'date': %s" .Position }}
{{ end }}

<tr>
    <td><a id="cta-changelog-pulumi-sdk-version" href="https://github.com/pulumi/pulumi/blob/master/CHANGELOG.md#{{ $flatVersion }}-{{ $date }}" track-click>{{ $version }}</a></td>
    <td>{{ $date }}</td>
    <td>
        <a id="cta-changelog-pulumi-sdk-linux" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-linux-x64.tar.gz" track-click>Linux</a>
        |
        <a id="cta-changelog-pulumi-sdk-macOS" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-darwin-x64.tar.gz" track-click>macOS</a>
        |
        <a id="cta-changelog-pulumi-sdk-windows" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-windows-x64.zip" track-click>Windows</a>
    </td>
</tr>
