<!--
  This partial contains the tags to include the JS and CSS assets for the website.
  You will need to include this partial in head of pages you want the CSS styles and/or
  JS components.
-->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"></script>

{{ $js := resources.Get "js/bundle.js" | fingerprint }}
<script src="{{ $js.RelPermalink }}" defer></script>

<!--
  Our marketing styles diverge a bit from the other parts of the website so we load
  in a different bundle on our marketing pages.
-->
{{ $nonMarketingSections := slice "docs" "registry" "blog" "learn" "tutorials" "providers" "collections" "templates" "ai" "authors" "tags" "legal" }}
{{ if in $nonMarketingSections .Section }}
{{ else }}
    {{/* Force Hugo to publish the resource by fingerprinting it, but don't use the fingerprinted URL */}}
    {{ $marketingCss := resources.Get "css/marketing.css" | fingerprint }}
    {{ $_ := $marketingCss.Permalink }}
    {{ $cssBundleId := getenv "CSS_BUNDLE_ID" }}
    <link rel="stylesheet" href="/css/marketing.{{ $cssBundleId }}.css">
{{ end }}

{{/* Force Hugo to publish the resource by fingerprinting it, but don't use the fingerprinted URL */}}
{{ $css := resources.Get "css/bundle.css" | fingerprint }}
{{ $_ := $css.Permalink }}
{{ $cssBundleId := getenv "CSS_BUNDLE_ID" }}
<link rel="stylesheet" href="/css/bundle.{{ $cssBundleId }}.css">
