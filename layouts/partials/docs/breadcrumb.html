{{/*
    BREADCRUMB RENDERING

    This partial renders the breadcrumb navigation trail built by menu.html.
    The breadcrumb data is retrieved from .Scratch (page-scoped temporary storage).

    Structure: Each breadcrumb is a dict with "name" and "url" keys.
    - Items with a URL are rendered as clickable links
    - Items without a URL (menu-only groupings) are rendered as non-clickable text
*/}}

{{ $breadcrumbs := .Scratch.Get "breadcrumbs" }}
{{ if $breadcrumbs }}
<ol class="docs-breadcrumb">
    {{ $lastIndex := sub (len $breadcrumbs) 1 }}

    {{ range $index, $crumb := $breadcrumbs }}
        {{ $isActive := eq $index $lastIndex }}
        <li {{ if $isActive }}class="active"{{ end }}>
            {{ if $crumb.url }}
                <a data-track="breadcrumb" href="{{ $crumb.url }}">
                    {{ $crumb.name }}
                </a>
            {{ else }}
                <a data-track="breadcrumb" style="pointer-events: none; cursor: default;">
                    {{ $crumb.name }}
                </a>
            {{ end }}
        </li>
    {{ end }}
</ol>
{{ end }}
