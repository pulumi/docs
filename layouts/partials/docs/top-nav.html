{{ $selection := "home" }}

{{ if .Params.capability }}
    {{ $selection = .Params.capability }}
{{ else if hasPrefix .Path "/docs/build" }}
    {{ $selection = "build" }}
{{ else if hasPrefix .Path "/docs/platform" }}
    {{ $selection = "platform" }}
{{ else if hasPrefix .Path "/docs/management" }}
    {{ $selection = "management" }}
{{ else if hasPrefix .Path "/docs/developer-tools" }}
    {{ $selection = "developer-tools" }}
{{ else if hasPrefix .Path "/docs/iac" }}
    {{ $selection = "build" }}
{{ else if hasPrefix .Path "/docs/esc" }}
    {{ $selection = "build" }}
{{ else if hasPrefix .Path "/docs/pulumi-cloud" }}
    {{ $selection = "build" }}
{{ else if hasPrefix .Path "/docs/insights" }}
    {{ $selection = "management" }}
{{ else if hasPrefix .Path "/docs/idp" }}
    {{ $selection = "platform" }}
{{ else if hasPrefix .Path "/docs" }}
    {{ $selection = "home" }}
{{ else if hasPrefix .Path "/registry" }}
    {{ $selection = "platform" }}
{{ else if hasPrefix .Path "/tutorials" }}
    {{ $selection = "tutorials" }}
{{ end }}

<div class="inline-flex items-center">
    <a class="whitespace-nowrap tab {{ if eq $selection "home" }}tab-selected{{ end }}" href="/docs/">
        <img class="tab-icon" src="/icons/docs.svg" />
        <span>Docs Home</span>
    </a>
    <a class="whitespace-nowrap tab {{ if eq $selection "build" }}tab-selected{{ end }}" href="/docs/build/">
        <span>Build</span>
    </a>
    <a class="whitespace-nowrap tab {{ if eq $selection "platform" }}tab-selected{{ end }}" href="/docs/platform/">
        <span>Platform</span>
    </a>
    <a class="whitespace-nowrap tab {{ if eq $selection "management" }}tab-selected{{ end }}" href="/docs/management/">
        <span>Management</span>
    </a>
    <a class="whitespace-nowrap tab {{ if eq $selection "developer-tools" }}tab-selected{{ end }}" href="/docs/developer-tools/">
        <span>Developer Tools</span>
    </a>
    <a class="whitespace-nowrap tab {{ if eq $selection "tutorials" }}tab-selected{{ end }}" href="/tutorials/">
        <span>Tutorials</span>
    </a>
</div>
