{{ define "hero" }}
    {{ partial "hero.html" (dict "title" "Pulumi ESC" "subtitle" "Environments, Secrets, and Configuration") }}
{{ end }}

{{ define "main" }}
    {{ $pageContext := . }}
    <section id="overview" class="container mx-auto my-16 flex flex-col">
        <h3 class="hidden lg:block xl:hidden text-center mb-8">{{ .Params.overview.header }}</h3>
        <div class="flex flex-col lg:flex-row px-8">
            <div class="w-full lg:w-1/2 lg:pr-8 order-last lg:order-first">
                <h3 class="block lg:hidden xl:block">{{ .Params.overview.header }}</h3>
                <p>{{ .Params.overview.description }}</p>
                <div class="my-8">
                    <a class="btn-primary" href="/docs/pulumi-cloud/esc/get-started/">Get Started</a>
                </div>
            </div>
            <div class="w-full lg:w-1/2 mb-8 lg:mb-0">
                <div class="rounded-xl shadow-2xl relative h-0 overflow-hidden" style="padding-bottom: 50.25%;">
                    <iframe
                        src="https://www.youtube.com/embed/MtV_LPZKNP8?si=y2G2NXlrKBQSLGUd?rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
                        allowfullscreen=""
                        title="Pulumi ESC Introduction"
                        srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img{position:absolute;width:100%;top:0;bottom:0;margin:auto}</style><a href=https://www.youtube.com/embed/MtV_LPZKNP8?si=y2G2NXlrKBQSLGUd?autoplay=1><img src='/images/video-cards/esc-intro.png' alt='Introducing Pulumi ESC: Environments, Secrets, and Configuration'></a>"
                    ></iframe>
                </div>
            </div>
        </div>
    </section>

    <section id="screenshot" class="container mx-auto my-16">
        <h2 class="max-w-5xl mx-auto text-center py-8">Centrally manage all environments</h2>
        <div class="flex flex-wrap items-stretch">
            <div class="w-full xl:w-3/4">
                <img src="/images/product/esc-screenshot.png" alt="screenshot of Pulumi ESC management console" />
            </div>
            <div class="w-full xl:w-1/4 p-4 flex flex-col lg:flex-row xl:flex-col">
                {{ range $item := .Params.screenshot.items }}
                    <div class="w-full lg:w-1/3 xl:w-full my-2 lg:px-2 xl:px-0">
                        <div class="h-full card bg-white p-4">
                            <div>
                                <h5>{{ $item.title }}</h5>
                            </div>
                            <div class="mt-6">
                                <p>{{ $item.description }}</p>
                            </div>
                        </div>
                    </div>
                {{ end }}
            </div>
        </div>
    </section>

    <section id="integration-access" class="container mx-auto my-16">
        <div class="max-w-5xl mx-auto text-center pb-4">
            <h2>Natively integrated with your infrastructure</h2>
        </div>
        <div class="hidden lg:block">
            <div class="flex flex-wrap justify-content items-stretch text-left my-2">
                <div class="w-1/2 p-4">
                    <div class="h-full card bg-white p-12">
                        <div class="icon-section mb-8">
                            {{ partial "color-icon.html" (dict "icon" "lock" "icon_color" "salmon") }}
                        </div>
                        <div>
                            <h5>Use any secrets source</h5>
                        </div>
                        <div class="mt-6">
                            <p>Pull configuration and secrets from any source, static or dynamic. Seamlessly adopt industry best practices of using short-lived, dynamic secrets that are more secure. </p>
                        </div>
                    </div>
                </div>
                <div class="w-1/2 p-4">
                    <div class="h-full card bg-white p-12">
                        <div class="icon-section mb-8">
                            {{ partial "color-icon.html" (dict "icon" "security" "icon_color" "purple") }}
                        </div>
                        <div>
                            <h5>Access from anywhere</h5>
                        </div>
                        <div class="mt-6">
                            <p>Consume configuration and secrets in an environment from any application or tool. You can use ESC for all your configuration and secrets needs independently of Pulumi’s core infrastructure as code offerings.  </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap justify-content items-stretch text-left my-2">
                <div class="w-1/2 p-4">
                    <img src="/images/product/esc-secrets-sources.png" alt="Secret sources examples" />
                </div>
                <div class="w-1/2 p-4">
                    <img src="/images/product/esc-execution-environments.png" alt="Exectution environments examples" />
                </div>
            </div>
        </div>
        <div class="block lg:hidden">
            <div class="w-full p-4">
                <div class="h-full card bg-white p-12">
                    <div class="icon-section mb-8">
                        {{ partial "color-icon.html" (dict "icon" "lock" "icon_color" "salmon") }}
                    </div>
                    <div>
                        <h5>Use any secrets source</h5>
                    </div>
                    <div class="mt-6">
                        <p>Pull configuration and secrets from any source, static or dynamic. Seamlessly adopt industry best practices of using short-lived, dynamic secrets that are more secure. </p>
                    </div>
                </div>
            </div>
            <div class="w-full p-4 mb-4">
                <div class="">
                    <img src="/images/product/esc-secrets-sources.png" alt="Secret sources examples" />
                </div>
            </div>
            <div class="w-full p-4">
                <div class="h-full card bg-white p-12">
                    <div class="icon-section mb-8">
                        {{ partial "color-icon.html" (dict "icon" "security" "icon_color" "purple") }}
                    </div>
                    <div>
                        <h5>Access from anywhere</h5>
                    </div>
                    <div class="mt-6">
                        <p>Consume configuration and secrets in any environment and from any application or tool. You can use Pulumi ESC for all your configuration and secrets needs independently of Pulumi’s core infrastructure as code offerings.</p>
                    </div>
                </div>
            </div>
            <div class="w-full p-4">
                <div class="">
                    <img src="/images/product/esc-execution-environments.png" alt="Exectution environments examples" />
                </div>
            </div>
        </div>
    </section>

    <section id="info-graphic" class="container mx-auto my-16">
        <div class="max-w-5xl mx-auto text-center px-6">
            <h2>How Pulumi ESC works</h2>
        </div>
        <div class="rounded-xl bg-white mb-4">
            <img class="block z-10" src="/images/product/esc-diagram.png" alt="Pulumi ESC architecture diagram" />
        </div>
        <div class="flex flex-wrap justify-content items-stretch text-left my-4">
            {{ range $item := .Params.diagram.items }}
                <div class="w-full lg:w-1/4 p-2">
                    <div class="h-full card bg-white p-4">
                        <div class="icon-section mb-8">
                            <img src="/images/product/esc-legend-{{ $item.number }}.svg" alt="#{{ $item.number }}" />
                        </div>
                        <div class="mt-6">
                            <p>{{ $item.description }}</p>
                        </div>
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

    <section id="benefits" class="container mx-auto text-center my-8">
        <h2 class="max-w-5xl mx-auto text-center py-8">Benefits of Pulumi ESC</h2>
        <div class="space-y-8 mx-12">
            {{ range $item := .Params.benefits.items }}
                <div class="w-full card bg-white p-4 md:p-16">
                    <div class="flex flex-row justify-center">
                        {{ partial "color-icon.html" (dict "icon" $item.icon "icon_color" $item.icon_color) }}
                        <h5 class="ml-4 mt-2">{{ $item.title }}</h5>
                    </div>
                    <p>{{ $item.description | markdownify }}</p>
                    <div class="mt-8 flex flex-wrap">
                        {{ range $index, $point := $item.points }}
                            {{ if eq $index 0 }}
                                <div class="w-full lg:w-1/2 p-4 md:p-8 border-t-2 lg:border-t-0 lg:border-b lg:border-r">{{ $point }}</div>
                            {{ else if eq $index 1 }}
                                <div class="w-full lg:w-1/2 p-4 md:p-8 border-t-2 lg:border-t-0 lg:border-b lg:border-l">{{ $point }}</div>
                            {{ else if eq $index 2 }}
                                <div class="w-full lg:w-1/2 p-4 md:p-8 border-t-2 lg:border-t lg:border-r">{{ $point }}</div>
                            {{ else }}
                                <div class="w-full lg:w-1/2 p-4 md:p-8 border-t-2 lg:border-t lg:border-l">{{ $point }}</div>
                            {{ end }}
                        {{ end }}
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

    <section id="get-started" class="container lg:px-0 mx-auto my-28 px-6">
        <div class="w-full bg-violet-600 card p-6 lg:p-16 lg:pt-24 text-center">
            <div class="max-w-xl mx-auto">
                <h2 class="text-white hidden lg:block px-0 lg:px-16">Get started today</h2>
                <h4 class="text-white mt-0 lg:hidden">Get started today</h4>
                <p class="text-white">Follow the Getting Started guide to begin using Pulumi ESC</p>
                <div class="mt-16">
                    <a class="btn-secondary" href="/docs/pulumi-cloud/esc/get-started/">Get Started</a>
                </div>
            </div>
        </div>
    </section>
{{ end }}
