{{ define "hero" }}
    <header class="header-hero-dark py-0 pt-16 px-4">
        <div class="container mx-auto text-white md:flex justify-around items-center">
            <div class="md:w-1/2">
                <h1 class="text-white text-center">Resources</h1>
            </div>
            <div class="md:w-1/2 md:ml-8">
                <div class="text-center">
                    <img class="inline-block w-56" src="/icons/icon-audience-devops.svg">
                </div>
            </div>
        </div>
    </header>

    <img class="w-full h-20" src="/images/waves.svg">
{{ end }}

{{ define "main" }}
    <!-- Grab the webinar and event page data. -->
    {{ $webinars := (where $.Pages "Type" "webinars") }}
    {{ $events := (where $.Site.Pages "Type" "events") }}

    <!-- Remove any webinar/events that are marked as unlisted. -->
    {{ $listed_webinars := (where $webinars ".Params.unlisted" false) }}
    {{ $listed_events := (where $events ".Params.unlisted" "!=" true )}}

    <!-- Convert the webinar data to JSON -->
    {{ $eventListWebinars := slice }}
    {{ range $listed_webinars }}
        {{ $eventListWebinars = $eventListWebinars | append (.Params | jsonify)}}
    {{ end }}

    <!-- Conver the event data to JSON -->
    {{ $eventListEvents := slice }}
    {{ range $listed_events }}
        {{ if ne .Params.title "Upcoming Events" }}
            {{ $eventListEvents = $eventListEvents | append (.Params | jsonify)}}
        {{ end }}
    {{ end }}

    <div class="pulumi-event-list-container mt-5">
        <pulumi-event-list
            webinars="[{{ delimit $eventListWebinars "," }}]"
            events="[{{ delimit $eventListEvents "," }}]"
        ></pulumi-event-list>
    </div>

    {{ partial "social.html" . }}

    {{ partial "learnmore-contactus.html" . }}
{{ end }}
