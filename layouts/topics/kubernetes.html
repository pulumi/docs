{{ define "hero" }}
    <header class="header-hero header-hero-glow">
        <div class="header-hero-items container mx-auto">
            <div class="header-hero-item pr-20">
                <h1>{{ .Params.hero.title }}</h1>
                <p>{{ .Params.hero.body | markdownify }}</p>

                <img class="my-10" src="/logos/tech/lang_block_horizontal.svg" alt="Pulumi Languages" />

                <div class="header-hero-actions">
                    <a class="btn btn-lg" href="{{ relref . "/docs/get-started/kubernetes" }}">
                        Get Started
                    </a>
                    <a class="btn btn-lg btn-orange-translucent" href="#contact">
                        Request a demo
                    </a>
                </div>
            </div>
            <div class="header-hero-item">
                <img src="/images/topics/kubernetes/kubernets-super-pulumipus.png" alt="Kubernetes and Pulumi" />
            </div>
        </div>
    </header>
{{ end }}

{{ define "main" }}
    {{ $pageContext := . }}

    <!-- Customer logos -->
    <section id="customers" class="mb-16 px-4">
        <h2 class="text-center">Powering top engineering teams</h2>
        <div class="container mx-auto">
            <div class="lg:flex items-center justify-center my-4">
                <a data-track="customer-logo" href="https://www.snowflake.com/" target="_blank">
                    <img class="mx-auto my-8 md:my-0 lg:mx-8 h-12 mx-8" src="/logos/customers/snowflake-logo.svg" alt="Snowflake" title="Snowflake">
                </a>
                <a data-track="customer-logo" href="https://www.tableau.com/" target="_blank">
                    <img class="mx-auto my-8 md:my-0 lg:mx-8 h-12 mx-8" src="/logos/customers/tableau_logo.png" alt="Tableau Software" title="Tableau Software">
                </a>
                <a data-track="customer-logo" href="{{ relref . "/case-studies/mercedes-benz" }}">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-12 mx-8" src="/logos/customers/mercedes-benz-RDNA_logo.png" title="Mercedes-Benz Research and Development" alt="Mercedes-Benz Research and Development">
                </a>
                <a data-track="customer-logo" href="https://www.mindbodyonline.com/" target="_blank">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-6 mx-8" src="/logos/customers/mindbody_logo.svg" alt="MindBody" title="MindBody">
                </a>
                <a data-track="customer-logo" href="https://www.nih.gov/" target="_blank">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-10 mx-8" src="/logos/customers/nih.png" alt="National Institutes of Health" title="National Institutes of Health">
                </a>
            </div>
            <div class="lg:flex items-center justify-center my-4">
                <a data-track="customer-logo" href="https://www.sourcegraph.com/" target="_blank">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-6 mx-8" src="/logos/customers/sourcegraph-logo.svg" alt="Sourcegraph" title="Sourcegraph">
                </a>
                <a data-track="customer-logo" href="https://www.snopes.com/" target="_blank">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-10 mx-8" src="/logos/customers/snopes_logo.png" alt="Snopes" title="Snopes">
                </a>
                <a data-track="customer-logo" href="{{ relref . "/case-studies/lemonade" }}">
                    <img class="mx-auto my-8 lg:my-2 lg:mx-8 h-8 mx-8" src="/logos/customers/lemonade.svg" alt="Lemonade" title="Lemonade">
                </a>
            </div>
        </div>
    </section>

    <section id="kubernetes-overview" class="py-8 bg-gray-100 px-4 md:px-0">
        <div class="container mx-auto flex flex-col md:mx-auto md:flex md:flex-row split-section--container">
            <div class="w1/1 order-first md:w-1/2 md:order-none split-section--right  pl-0 pr-20">
                <img src="/images/docs/quickstart/kubernetes/cake.svg" />
            </div>
            <div class="w1/1 order-last mt-16 md:w-1/2 md:order-none split-section--left">
                {{ with .Params.kubernetes_overview }}
                    <h2>{{ .title }}</h2>
                    <p>{{ .description }}</p>
                    <ul>
                        {{ range $i, $item := .list }}
                            <li>{{ $item | markdownify }}</li>
                        {{ end }}
                    </ul>
                    <a id="kubernetes-request-more-information" class="btn inline-block split-section--cta-btn" href="#contact" track-click>
                        {{ .cta }}
                    </a>
                {{ end }}
            </div>
        </div>
    </section>

    <section class="bg-white pt-24 px-4 justify-center" id="editions">
        <div class="container mx-auto lg:flex justify-center">
            <ul class="flex flex-col md:flex-row md:flex-wrap items-start list-none p-0">
                {{ range $i, $item := .Params.superpowers }}
                    {{ $testHref := "/docs/get-started" }}
                    <li class="md:w-1/2 md:flex items-start mt-0">
                        <div class="text-center md:text-left mb-4 md:mb-0">
                            <div class="inline-block bg-blue-100 border-4 border-blue-200 rounded-full p-6" style="fill: #4387c7;">
                                {{ partial "superpower-icon" (dict "type" $item.icon_type) }}
                            </div>
                        </div>
                        <div class="md:pl-6 md:pr-12">
                            <h3 class="text-center md:text-left font-normal text-gray-800 text-3xl mt-0" >
                                <a href="{{ relref $pageContext $item.cta_url }}">
                                    <span class="align-middle text-blue-700">{{ $item.title }}</span>
                                </a>
                            </h3>
                            <p class="text-lg text-gray-700 leading-relaxed">{{ $item.description }}</p>
                            <p class="m-0 text-lg text-center md:text-left">
                                <a href="{{ relref $pageContext $item.cta_url }}">
                                    <span class="transition-all hover:mr-1">{{ $item.cta }}</span>
                                    <span class="text-blue-400">&rarr;</span>
                                </a>
                            </p>
                            <div class="mb-12 pb-12 border-b border-gray-1"></div>
                        </div>
                    </li>
                {{ end }}
            </ul>
        </div>
    </section>

    {{ range $index, $item := .Params.detail_sections }}
        {{ $bgColor := "bg-gray-100" }}
        {{ $iconColor := "text-purple-100" }}
        {{ $ctaButtonColor := "btn-orange" }}
        {{ $ctaBlockOrder := "order-first" }}
        {{ $detailsBlockOrder := "order-last" }}
        {{ if not (modBool $index 2) }}
            {{ $bgColor = "bg-white" }}
            {{ $iconColor = "text-orange-300" }}
            {{ $ctaButtonColor = "btn-purple" }}
            {{ $ctaBlockOrder = "order-last pl-20" }}
            {{ $detailsBlockOrder = "order-first" }}
        {{ end }}

        <section id="teams" class="{{ $bgColor }} py-16 px-4">
            <div class="container md:mx-auto md:flex">
                <div class="md:w-1/2 {{ $ctaBlockOrder }} flex-shrink-0 md:mr-8">
                    <h2>{{ $item.title }}</h2>
                    <p class="text-xl">{{ $item.description }}</p>
                    <a class="inline-block btn btn-lg {{ $ctaButtonColor }} my-4" href="{{ relref $pageContext $item.cta_url }}">
                        {{ $item.cta }}
                    </a>
                </div>
                <div class="md:w-1/2 {{ $detailsBlockOrder }} md:flex flex-wrap flex-shrink-0">
                    {{ range $i, $row := $item.items }}
                        <div class="md:w-1/2 md:pr-4 mb-8 md:mb-0">
                            <div class="flex items-start">
                                <i class="w-12 mr-4 fas fa-2x {{ $row.icon }} {{ $iconColor }}"></i>
                                <div>
                                    <h5>{{ $row.title }}</h5>
                                    <p class="text-sm">{{ $row.description }}</p>
                                </div>
                            </div>
                        </div>
                    {{ end }}
                </div>
            </div>
        </section>
    {{ end }}

    {{ with .Params.video_section }}
        <div class="max-w-4xl my-24 mx-auto px-4">
            <div class="text-center mb-8">
                <h3>{{ .title }}</h3>
                <p class="my-0">
                    {{ .subtitle }}
                </p>
            </div>

            <!-- Rendered with Hugo's YouTube shortcode: https://gohugo.io/content-management/shortcodes/#youtube -->
            <div class="rounded shadow-md" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
                <iframe
                    src="//www.youtube.com/embed/{{ .youtube_video_id }}?rel=0"
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
                    allowfullscreen=""
                    title="{{ .video_title }}"
                ></iframe>
            </div>
        </div>
    {{ end }}

    <section id="get-started" class="bg-gray-100 py-16 px-4 md:px-0">
            <div class="container mx-auto max-w-5xl md:flex my-8 align-top justify-center text-center">
                <div class="md:w3-/12 mr-4">
                    <h2>Get Started with Pulumi</h2>
                    <p class="text-xl">
                        Use Pulumi's open source SDK to create, deploy, and manage infrastructure on any cloud.
                    </p>
                </div>
            </div>
            <div class="container mx-auto max-w-5xl">
                <div class="flex flex-row max-w-full">
                    <a id="get-started-aws" class="btn bg-transparent border border-gray-300 hover:bg-gray-200 p-5 mb-5 flex justify-center w-1/2 mr-4"
                        href="{{ relref . "/docs/get-started/aws" }}" track-click>
                        <img class="h-10" src="/logos/tech/aws.svg" alt="AWS">
                    </a>
                    <a id="get-started-azure" class="btn bg-transparent border border-gray-300 hover:bg-gray-200 p-5 mb-5 flex justify-center w-1/2 ml-4"
                        href="{{ relref . "/docs/get-started/azure" }}" track-click>
                        <img class="h-10" src="/logos/tech/azure.svg" alt="Azure">
                    </a>
                </div>
                <div class="flex flex-row max-w-full">
                    <a id="get-started-gcp" class="btn bg-transparent border border-gray-300 hover:bg-gray-200 p-5 mb-5 flex justify-center w-1/2 mr-4"
                        href="{{ relref . "/docs/get-started/gcp" }}" track-click>
                        <img class="h-10" src="/logos/tech/gcp.svg" alt="Google Cloud">
                    </a>
                    <a id="get-started-kubernetes" class="btn bg-transparent border border-gray-300 hover:bg-gray-200 p-5 mb-5 flex justify-center w-1/2 ml-4"
                        href="{{ relref . "/docs/get-started/kubernetes" }}" track-click>
                        <img class="h-10" src="/logos/tech/k8s.svg" alt="Kubernetes">
                    </a>
                </div>
            </div>
        </section>

    <section id="contact" class="bg-white mb-0 py-16 text-white px-4 md:px-0">
        <div class="container mx-auto max-w-5xl bg-white py-8 px-10 text-sm rounded rounded-lg shadow-lg border border-gray-300 relative">
            {{ with .Params.contact_us_form }}
                <div class="md:flex my-8 md:max-w-32 align-top">
                    <div class="md:w-1/2">
                        <h3 class="text-black">{{ .quote.title }}</h3>
                        <div class="relative contact-form--customer-quote">
                            <i class="fa fa-quote-left text-gray-200 absolute top-0 left-0 ml-4 mt-4 text-5xl z-0"></i>
                            <p class="leading-loose mt-0 z-10 relative text-gray-800">
                                {{ .quote.content }}
                            </p>
                            <div class="leading-relaxed flex items-start">
                                <div>
                                    <div class="text-blue-700 font-semibold text-xl">
                                            {{ .quote.name }}
                                    </div>
                                    <div class="text-blue-500">
                                        {{ .quote.name_title }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-16 mx-auto md:w-1/2 md:ml-8 md:mt-0">
                        <h2 class="text-black text-center md:text-left">{{ .headline }}</h2>
                        <div class="hs-form hs-form-fg-light hs-demo-form text-black">
                            {{ partial "hubspot-form.html" (dict "hubspotFormID" .hubspot_form_id) }}
                        </div>
                        <p class="text-black text-right text-base">
                            ...or <a id="start-free-trial-text" href="https://app.pulumi.com/signup/" track-click>Start Free Trial</a>
                        </p>
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

{{ end }}
